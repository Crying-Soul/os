Script started on 2025-04-04 01:44:29+03:00 [COMMAND="./logger-lb3.sh" TERM="xterm-256color" TTY="/dev/pts/2" COLUMNS="282" LINES="59"]
Дата исполнения отчёта: 2025-04-04 01:44:29
Идентификация исполнителя: root
Группа: 3343
ФИО: Гребнев Егор Дмитриевич
-----------------------------------------------------------------
[2025-04-04 01:44:29] ПРОФИЛЬ СИСТЕМЫ
[2025-04-04 01:44:29] >>> Информация о процессоре (lscpu) <<<
----------------------------------------
Architecture:                         x86_64
CPU op-mode(s):                       32-bit, 64-bit
Address sizes:                        48 bits physical, 48 bits virtual
Byte Order:                           Little Endian
CPU(s):                               6
On-line CPU(s) list:                  0-5
Vendor ID:                            AuthenticAMD
Model name:                           AMD Ryzen 5 3600 6-Core Processor
BIOS Model name:                        CPU @ 0.0GHz
BIOS CPU family:                      0
CPU family:                           23
Model:                                113
Thread(s) per core:                   1
Core(s) per socket:                   6
Socket(s):                            1
Stepping:                             0
BogoMIPS:                             7199.99
Flags:                                fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid tsc_known_freq pni pclmulqdq ssse3 fma cx16 sse4_1 sse4_2 x2apic movbe popcnt aes xsave avx f16c rdrand hypervisor lahf_lm cmp_legacy svm cr8_legacy abm sse4a misalignsse 3dnowprefetch ssbd vmmcall fsgsbase bmi1 avx2 bmi2 rdseed adx clflushopt sha_ni arat nrip_save flushbyasid decodeassists
Virtualization:                       AMD-V
Hypervisor vendor:                    KVM
Virtualization type:                  full
L1d cache:                            192 KiB (6 instances)
L1i cache:                            192 KiB (6 instances)
L2 cache:                             3 MiB (6 instances)
L3 cache:                             192 MiB (6 instances)
NUMA node(s):                         1
NUMA node0 CPU(s):                    0-5
Vulnerability Gather data sampling:   Not affected
Vulnerability Itlb multihit:          Not affected
Vulnerability L1tf:                   Not affected
Vulnerability Mds:                    Not affected
Vulnerability Meltdown:               Not affected
Vulnerability Mmio stale data:        Not affected
Vulnerability Reg file data sampling: Not affected
Vulnerability Retbleed:               Mitigation; untrained return thunk; SMT disabled
Vulnerability Spec rstack overflow:   Mitigation; safe RET, no microcode
Vulnerability Spec store bypass:      Not affected
Vulnerability Spectre v1:             Mitigation; usercopy/swapgs barriers and __user pointer sanitization
Vulnerability Spectre v2:             Mitigation; Retpolines; STIBP disabled; RSB filling; PBRSB-eIBRS Not affected; BHI Not affected
Vulnerability Srbds:                  Not affected
Vulnerability Tsx async abort:        Not affected
----------------------------------------
[2025-04-04 01:44:29] >>> Информация о памяти (free -h) <<<
----------------------------------------
               total        used        free      shared  buff/cache   available
Mem:            15Gi       3.7Gi        10Gi       165Mi       1.9Gi        11Gi
Swap:          974Mi          0B       974Mi
----------------------------------------
[2025-04-04 01:44:29] >>> Информация о дисках (lsblk) <<<
----------------------------------------
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sda      8:0    0   60G  0 disk 
├─sda1   8:1    0   59G  0 part /
├─sda2   8:2    0    1K  0 part 
└─sda5   8:5    0  975M  0 part [SWAP]
sr0     11:0    1 57.4M  0 rom  
----------------------------------------
[2025-04-04 01:44:29] >>> Информация о сетевых интерфейсах (ip a) <<<
----------------------------------------
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host noprefixroute 
       valid_lft forever preferred_lft forever
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:5c:10:fa brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic noprefixroute enp0s3
       valid_lft 83502sec preferred_lft 83502sec
    inet6 fd00::6a94:2de4:7ac9:24b7/64 scope global temporary dynamic 
       valid_lft 85450sec preferred_lft 13450sec
    inet6 fd00::a00:27ff:fe5c:10fa/64 scope global dynamic mngtmpaddr noprefixroute 
       valid_lft 85450sec preferred_lft 13450sec
    inet6 fe80::a00:27ff:fe5c:10fa/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
3: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default 
    link/ether ca:cf:8a:6e:d7:a5 brd ff:ff:ff:ff:ff:ff
    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0
       valid_lft forever preferred_lft forever
4: br-5ade70efe37c: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default 
    link/ether f2:ff:c8:a8:1f:57 brd ff:ff:ff:ff:ff:ff
    inet 172.19.0.1/16 brd 172.19.255.255 scope global br-5ade70efe37c
       valid_lft forever preferred_lft forever
5: br-5cc120f53bac: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default 
    link/ether 9a:9c:ca:55:c4:62 brd ff:ff:ff:ff:ff:ff
    inet 172.20.0.1/16 brd 172.20.255.255 scope global br-5cc120f53bac
       valid_lft forever preferred_lft forever
6: br-5f8e322b553c: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default 
    link/ether 06:67:62:27:86:77 brd ff:ff:ff:ff:ff:ff
    inet 172.21.0.1/16 brd 172.21.255.255 scope global br-5f8e322b553c
       valid_lft forever preferred_lft forever
    inet6 fe80::467:62ff:fe27:8677/64 scope link 
       valid_lft forever preferred_lft forever
7: br-b56d365599b8: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default 
    link/ether 26:01:10:cd:02:5b brd ff:ff:ff:ff:ff:ff
    inet 172.18.0.1/16 brd 172.18.255.255 scope global br-b56d365599b8
       valid_lft forever preferred_lft forever
8: veth34ccf2a@if2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue master br-5f8e322b553c state UP group default 
    link/ether 4e:06:d4:3b:c7:e3 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet6 fe80::4c06:d4ff:fe3b:c7e3/64 scope link 
       valid_lft forever preferred_lft forever
9: vetha4586b0@if2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue master br-5f8e322b553c state UP group default 
    link/ether 66:b8:48:b5:c6:82 brd ff:ff:ff:ff:ff:ff link-netnsid 1
    inet6 fe80::64b8:48ff:feb5:c682/64 scope link 
       valid_lft forever preferred_lft forever
----------------------------------------
[2025-04-04 01:44:29] ИДЕНТИФИКАЦИЯ ВИРТУАЛЬНОЙ МАШИНЫ
[2025-04-04 01:44:29] Система запущена в виртуальной машине.
[2025-04-04 01:44:29] Тип виртуализации: oracle

-----------------------------------------------------------------
[2025-04-04 01:44:29] ИДЕНТИФИКАЦИЯ/ОПИСАНИЕ ОС
[2025-04-04 01:44:29] >>> Информация о ядре (uname -a) <<<
----------------------------------------
Linux ASPIRIN 6.1.0-32-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.1.129-1 (2025-03-06) x86_64 GNU/Linux
----------------------------------------
[2025-04-04 01:44:29] >>> Информация о версии ОС (lsb_release -a) <<<
----------------------------------------
Distributor ID:	Debian
Description:	Debian GNU/Linux 12 (bookworm)
Release:	12
Codename:	bookworm
----------------------------------------

-----------------------------------------------------------------
[2025-04-04 01:44:29] НАЧАЛО ВЫПОЛНЕНИЯ ЗАДАНИЙ
[2025-04-04 01:44:29] [КОММЕНТАРИЙ] Выполним подготовку окружения для выполнения заданий. Скомпилируем все исходные файлы.
[2025-04-04 01:44:29] ВЫПОЛНЕНИЕ ЗАДАНИЯ 0
[2025-04-04 01:44:29] >>> root@ASPIRIN$ ./compiller.sh lb3 <<<
Компиляция lb3/6/6.1/dual_pipe.c в lb3/6/6.1/dual_pipe
Компиляция lb3/6/6.1/pipe_exec.c в lb3/6/6.1/pipe_exec
Компиляция lb3/6/6.1/simple_pipe.c в lb3/6/6.1/simple_pipe
Компиляция lb3/6/6.2/writer.c в lb3/6/6.2/writer
Компиляция lb3/6/6.2/reader.c в lb3/6/6.2/reader
Компиляция lb3/6/6.2/create_fifo.c в lb3/6/6.2/create_fifo
Компиляция lb3/6/6.2/analyze_fifo.c в lb3/6/6.2/analyze_fifo
Компиляция lb3/6/6.3/message_queue.c в lb3/6/6.3/message_queue
Компиляция lb3/1.c в lb3/1
Компиляция lb3/7/7.2/client.c в lb3/7/7.2/client
Компиляция lb3/7/7.2/server.c в lb3/7/7.2/server
Компиляция lb3/7/7.1/client.c в lb3/7/7.1/client
Компиляция lb3/7/7.1/server.c в lb3/7/7.1/server
Компиляция lb3/7/7.3/client.c в lb3/7/7.3/client
Компиляция lb3/7/7.3/server.c в lb3/7/7.3/server
Компиляция lb3/4.c в lb3/4
Компиляция lb3/5/5-posix.c в lb3/5/5-posix
Компиляция lb3/5/5-systemv.c в lb3/5/5-systemv
Компиляция lb3/5/5-benchmark.c в lb3/5/5-benchmark
Компиляция lb3/5/5-pthread.c в lb3/5/5-pthread
Компиляция lb3/2.c в lb3/2
Компиляция lb3/3/3.1.c в lb3/3/3.1
Компиляция lb3/3/3.2.c в lb3/3/3.2
[2025-04-04 01:44:30] Время выполнения задания 0: 1 секунд.


[2025-04-04 01:44:30] ВЫПОЛНЕНИЕ ЗАДАНИЯ 1.1
[2025-04-04 01:44:30] >>> root@ASPIRIN$ strace -tt -e 'trace=signal,kill,tgkill,tkill,sigaction,sigprocmask' -f ./lb3/1 <<<
[01:44:30.589484824] Main thread: Started (PID: 46619)
[01:44:30.589484824] Using default signal handler
01:44:30.591073 rt_sigaction(SIGRT_1, {sa_handler=0x7f8308c01720, sa_mask=[], sa_flags=SA_RESTORER|SA_ONSTACK|SA_RESTART|SA_SIGINFO, sa_restorer=0x7f8308bb7050}, NULL, 8) = 0
01:44:30.591230 rt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0
01:44:30.591474 rt_sigprocmask(SIG_BLOCK, ~[], [], 8) = 0
strace: Process 46620 attached
[pid 46619] 01:44:30.591652 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[pid 46620] 01:44:30.591850 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[01:44:30.591918982] Thread 1: Started (TID: 140200763684544)
[pid 46620] 01:44:30.592441 rt_sigprocmask(SIG_BLOCK, ~[], [], 8) = 0
strace: Process 46621 attached
[pid 46620] 01:44:30.592657 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[pid 46621] 01:44:30.592727 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[pid 46621] 01:44:30.592903 rt_sigaction(SIGUSR1, {sa_handler=0x562019bf1381, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x7f8308bb7050}, NULL, 8) = 0
[01:44:30.592872413] Thread 2: Started (TID: 140200755291840)
[01:44:30.593047828] Thread 2: Active
[01:44:30.642469813] Thread 2: Active
[01:44:30.690212702] Thread 2: Active
[01:44:30.738575161] Thread 2: Active
[01:44:30.786146430] Thread 2: Active
[01:44:30.835384359] Thread 2: Active
[01:44:30.883797529] Thread 2: Active
[01:44:30.933012299] Thread 2: Active
[01:44:30.980922632] Thread 2: Active
[01:44:31.029343882] Thread 2: Active
[01:44:31.077366026] Thread 2: Active
[01:44:31.124511419] Thread 2: Active
[01:44:31.171806112] Thread 2: Active
[01:44:31.220216041] Thread 2: Active
[01:44:31.264485890] Thread 1: Sending first SIGUSR1 to Thread 2
[pid 46620] 01:44:31.264736 rt_sigprocmask(SIG_BLOCK, ~[], [], 8) = 0
[pid 46620] 01:44:31.265004 tgkill(46619, 46621, SIGUSR1 <unfinished ...>
[pid 46621] 01:44:31.265080 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_TKILL, si_pid=46619, si_uid=0} ---
[pid 46620] 01:44:31.265094 <... tgkill resumed>) = 0
[01:44:31.265115436] Thread 2: Received SIGUSR1 signal (default handler)
[pid 46620] 01:44:31.265163 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[pid 46621] 01:44:31.265239 rt_sigreturn({mask=[]}[01:44:31.265220587] Thread 1: Monitoring for 3 seconds...
) = 0
[01:44:31.267558399] Thread 2: Active
[01:44:31.314892762] Thread 2: Active
[01:44:31.361897010] Thread 2: Active
[01:44:31.408888493] Thread 2: Active
[01:44:31.455838255] Thread 2: Active
[01:44:31.502741878] Thread 2: Active
[01:44:31.550011871] Thread 2: Active
[01:44:31.597203924] Thread 2: Active
[01:44:31.644132246] Thread 2: Active
[01:44:31.691422039] Thread 2: Active
[01:44:31.738434527] Thread 2: Active
[01:44:31.785535550] Thread 2: Active
[01:44:31.832634598] Thread 2: Active
[01:44:31.881341891] Thread 2: Active
[01:44:31.929971326] Thread 2: Active
[01:44:31.978930771] Thread 2: Active
[01:44:32.027659665] Thread 2: Active
[01:44:32.074981729] Thread 2: Active
[01:44:32.122114627] Thread 2: Active
[01:44:32.171531447] Thread 2: Active
[01:44:32.220057521] Thread 2: Active
[01:44:32.268791611] Thread 2: Active
[01:44:32.317328940] Thread 2: Active
[01:44:32.366076205] Thread 2: Active
[01:44:32.414964969] Thread 2: Active
[01:44:32.463589574] Thread 2: Active
[01:44:32.526819445] Thread 2: Active
[01:44:32.573942963] Thread 2: Active
[01:44:32.623039422] Thread 2: Active
[01:44:32.672100417] Thread 2: Active
[01:44:32.719492911] Thread 2: Active
[01:44:32.767566024] Thread 2: Active
[01:44:32.815905429] Thread 2: Active
[01:44:32.864773553] Thread 2: Active
[01:44:32.912036706] Thread 2: Active
[01:44:32.959072630] Thread 2: Active
[01:44:33.006987863] Thread 2: Active
[01:44:33.055871073] Thread 2: Active
[01:44:33.103509446] Thread 2: Active
[01:44:33.150774879] Thread 2: Active
[01:44:33.198340728] Thread 2: Active
[01:44:33.245530916] Thread 2: Active
[01:44:33.292978339] Thread 2: Active
[01:44:33.340390692] Thread 2: Active
[01:44:33.387606730] Thread 2: Active
[01:44:33.434797398] Thread 2: Active
[01:44:33.498248949] Thread 2: Active
[01:44:33.558988691] Thread 2: Active
[01:44:33.608143506] Thread 2: Active
[01:44:33.668234539] Thread 2: Active
[01:44:33.717090898] Thread 2: Active
[01:44:33.791791838] Thread 2: Active
[01:44:33.840008386] Thread 2: Active
[01:44:33.866671612] Thread 1: Sending termination signal to Thread 2
[pid 46620] 01:44:33.866895 rt_sigprocmask(SIG_BLOCK, ~[], [], 8) = 0
[pid 46620] 01:44:33.867112 tgkill(46619, 46621, SIGUSR1 <unfinished ...>
[pid 46621] 01:44:33.867186 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_TKILL, si_pid=46619, si_uid=0} ---
[pid 46620] 01:44:33.867205 <... tgkill resumed>) = 0
[01:44:33.867220392] Thread 2: Received SIGUSR1 signal (default handler)
[pid 46620] 01:44:33.867253 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[pid 46621] 01:44:33.867331 rt_sigreturn({mask=[]}) = 0
[01:44:33.888216286] Thread 2: Exiting normally
[pid 46621] 01:44:33.888393 rt_sigprocmask(SIG_BLOCK, ~[RT_1], NULL, 8) = 0
[pid 46621] 01:44:33.888690 +++ exited with 0 +++
[01:44:33.888722592] Thread 1: Thread 2 terminated
[pid 46620] 01:44:33.888840 rt_sigprocmask(SIG_BLOCK, ~[RT_1], NULL, 8) = 0
[pid 46620] 01:44:33.889111 +++ exited with 0 +++
[01:44:33.889125301] Main thread: All threads completed
01:44:33.889385 +++ exited with 0 +++
[2025-04-04 01:44:33] Время выполнения задания 1.1: 3 секунд.


[2025-04-04 01:44:33] ВЫПОЛНЕНИЕ ЗАДАНИЯ 1.2
[2025-04-04 01:44:33] >>> root@ASPIRIN$ strace -tt -e 'trace=signal,kill,tgkill,tkill,sigaction,sigprocmask' -f ./lb3/1 --custom-handler <<<
[01:44:33.903074652] Main thread: Started (PID: 46632)
[01:44:33.903074652] Using custom signal handler with pthread_exit()
01:44:33.904161 rt_sigaction(SIGRT_1, {sa_handler=0x7f8c35fa4720, sa_mask=[], sa_flags=SA_RESTORER|SA_ONSTACK|SA_RESTART|SA_SIGINFO, sa_restorer=0x7f8c35f5a050}, NULL, 8) = 0
01:44:33.904345 rt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0
01:44:33.904683 rt_sigprocmask(SIG_BLOCK, ~[], [], 8) = 0
strace: Process 46633 attached
[pid 46632] 01:44:33.904935 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[pid 46633] 01:44:33.905128 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[01:44:33.905207095] Thread 1: Started (TID: 140240177178304)
[pid 46633] 01:44:33.905777 rt_sigprocmask(SIG_BLOCK, ~[], [], 8) = 0
strace: Process 46634 attached
[pid 46633] 01:44:33.906072 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[pid 46634] 01:44:33.906157 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[pid 46634] 01:44:33.906296 rt_sigaction(SIGUSR1, {sa_handler=0x55cf9ef213ca, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x7f8c35f5a050}, NULL, 8) = 0
[01:44:33.906266106] Thread 2: Started (TID: 140240168785600)
[01:44:33.906511631] Thread 2: Active
[01:44:33.954160220] Thread 2: Active
[01:44:34.001664313] Thread 2: Active
[01:44:34.050998448] Thread 2: Active
[01:44:34.099380907] Thread 2: Active
[01:44:34.147543526] Thread 2: Active
[01:44:34.196164261] Thread 2: Active
[01:44:34.246211777] Thread 2: Active
[01:44:34.293968900] Thread 2: Active
[01:44:34.343184850] Thread 2: Active
[01:44:34.391279824] Thread 2: Active
[01:44:34.439720848] Thread 2: Active
[01:44:34.488758833] Thread 2: Active
[01:44:34.537074323] Thread 2: Active
[01:44:34.584726827] Thread 2: Active
[01:44:34.631675699] Thread 2: Active
[01:44:34.679188702] Thread 2: Active
[01:44:34.701995143] Thread 1: Sending first SIGUSR1 to Thread 2
[pid 46633] 01:44:34.702701 rt_sigprocmask(SIG_BLOCK, ~[], [], 8) = 0
[pid 46633] 01:44:34.702971 tgkill(46632, 46634, SIGUSR1 <unfinished ...>
[pid 46634] 01:44:34.703048 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_TKILL, si_pid=46632, si_uid=0} ---
[pid 46633] 01:44:34.703082 <... tgkill resumed>) = 0
[01:44:34.703119683] Thread 2: Received SIGUSR1 signal (custom handler)
[pid 46633] 01:44:34.703170 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[01:44:34.703119683] Thread 2: Exiting via pthread_exit()
[01:44:34.703304999] Thread 1: Monitoring for 3 seconds...
[pid 46634] 01:44:34.704871 rt_sigprocmask(SIG_BLOCK, ~[RT_1], NULL, 8) = 0
[pid 46634] 01:44:34.705133 +++ exited with 0 +++
[01:44:36.866671623] Thread 1: Sending termination signal to Thread 2
[pid 46633] 01:44:36.866886 rt_sigprocmask(SIG_BLOCK, ~[], [], 8) = 0
[pid 46633] 01:44:36.867005 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
[01:44:36.867125908] Thread 1: Thread 2 terminated
[pid 46633] 01:44:36.867317 rt_sigprocmask(SIG_BLOCK, ~[RT_1], NULL, 8) = 0
[pid 46633] 01:44:36.867807 +++ exited with 0 +++
[01:44:36.867807980] Main thread: All threads completed
01:44:36.868471 +++ exited with 0 +++
[2025-04-04 01:44:36] Время выполнения задания 1.2: 3 секунд.

[2025-04-04 00:30:18] ВЫПОЛНЕНИЕ ЗАДАНИЯ 2 
lotos@ASPIRIN:~/Documents/os$ ./lb3/2 --process_single
Режим process_single. Нажмите Ctrl+C.
^CПроцесс: получен SIGINT (однократно).
^C
lotos@ASPIRIN:~/Documents/os$ ./lb3/2 --process_multi
Режим process_multi. Нажмите Ctrl+C несколько раз.
^CПроцесс: получен SIGINT 1 раз(а).
^CПроцесс: получен SIGINT 2 раз(а).
^CПроцесс: получен SIGINT 3 раз(а).
Восстанавливаем исходный обработчик после 3 срабатываний.
^C
lotos@ASPIRIN:~/Documents/os$ ./lb3/2 --thread_single
Режим thread_single. Нажмите Ctrl+C.
^CПоток: получен SIGINT (однократно).
lotos@ASPIRIN:~/Documents/os$ ./lb3/2 --thread_multi
Режим thread_multi. Нажмите Ctrl+C несколько раз.
^CПоток: получен SIGINT 1 раз(а).
^CПоток: получен SIGINT 2 раз(а).
^CПоток: получен SIGINT 3 раз(а).
Поток: после 3 срабатываний восстанавливаем исходное поведение.
lotos@ASPIRIN:~/Documents/os$ ./lb3/2 --custom_signal
Режим custom_signal. Нажмите Ctrl+Z.
^ZПолучен SIGTSTP (Ctrl+Z)!
^C
lotos@ASPIRIN:~/Documents/os$ 


[2025-04-04 01:44:36] ВЫПОЛНЕНИЕ ЗАДАНИЯ 3 (Скрипт)
[2025-04-04 01:44:36] Запуск скрипта ./lb3/3/3.sh без аргументов.
==============================================
                  ЗАДАНИЕ 3.1                 
==============================================

============================================================
ПРОГРАММА ДЕМОНСТРАЦИИ РАБОТЫ С SIGACTION()
============================================================
PID: 46666


============================================================
ТЕСТ: Обработка SIGINT (Ctrl+C) с SA_SIGINFO
============================================================
Описание: Демонстрация обработки SIGINT с использованием SA_SIGINFO для получения
дополнительной информации о сигнале (pid отправителя, код и т.д.)

01:44:36.885728 rt_sigaction(SIGINT, {sa_handler=0x562fa160831f, sa_mask=[TERM], sa_flags=SA_RESTORER|SA_RESTART|SA_SIGINFO, sa_restorer=0x7f4263760050}, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, 8) = 0
  Настроен обработчик для SIGINT (Ctrl+C) (сигнал 2)
  Флаги: 0x10000004, Маска: установлена
  Отправка сигнала 2 текущему процессу...
01:44:36.886236 kill(46666, SIGINT)     = 0
01:44:36.886313 --- SIGINT {si_signo=SIGINT, si_code=SI_USER, si_pid=46666, si_uid=0} ---

  Получен SIGINT (сигнал 2) от процесса 46666
  Код пользователя: 0
01:44:36.886706 rt_sigreturn({mask=[]}) = 0

  Тест завершен

============================================================
ТЕСТ: Старый стиль обработчика (SIGTERM)
============================================================
Описание: Демонстрация простого обработчика сигналов без использования SA_SIGINFO

01:44:37.092156 rt_sigaction(SIGTERM, {sa_handler=0x562fa160838b, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x7f4263760050}, NULL, 8) = 0
  Настроен простой обработчик для SIGTERM (без SA_SIGINFO)
  Отправка сигнала 15 текущему процессу...
01:44:37.092524 kill(46666, SIGTERM)    = 0
01:44:37.092648 --- SIGTERM {si_signo=SIGTERM, si_code=SI_USER, si_pid=46666, si_uid=0} ---

  Получен SIGTERM (сигнал 15)
  Этот обработчик использует старый стиль (без siginfo_t)
01:44:37.092970 rt_sigreturn({mask=[]}) = 0

  Тест завершен

============================================================
ТЕСТ: Обработка SIGUSR1 с блокировкой SIGUSR2
============================================================
Описание: Демонстрация маскирования сигналов во время обработки другого сигнала

01:44:37.296008 rt_sigaction(SIGUSR1, {sa_handler=0x562fa16083da, sa_mask=[USR2], sa_flags=SA_RESTORER|SA_NODEFER|SA_SIGINFO, sa_restorer=0x7f4263760050}, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, 8) = 0
  Настроен обработчик для SIGUSR1 с блокировкой SIGUSR2 (сигнал 10)
  Флаги: 0x40000004, Маска: установлена
01:44:37.296343 rt_sigaction(SIGUSR2, {sa_handler=0x562fa16084c6, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x7f4263760050}, NULL, 8) = 0
  Отправка SIGUSR1 и сразу SIGUSR2...
  Отправка сигнала 10 текущему процессу...
01:44:37.296696 kill(46666, SIGUSR1)    = 0
01:44:37.296831 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=46666, si_uid=0} ---

  Получен SIGUSR1 (сигнал 10) от процесса 46666
  Всего получено SIGUSR1: 1
  Сигнал отправлен пользователем (kill, raise)
01:44:37.297259 rt_sigreturn({mask=[]}) = 0
  Отправка сигнала 12 текущему процессу...
01:44:37.297553 kill(46666, SIGUSR2)    = 0
01:44:37.297643 --- SIGUSR2 {si_signo=SIGUSR2, si_code=SI_USER, si_pid=46666, si_uid=0} ---

  Получен SIGUSR2 (сигнал 12)
  Этот сигнал блокируется во время обработки SIGUSR1
01:44:37.297982 rt_sigreturn({mask=[]}) = 0

  Тест завершен

============================================================
ТЕСТ: Периодический SIGALRM
============================================================
Описание: Демонстрация работы с сигналами таймера

01:44:37.500371 rt_sigaction(SIGALRM, {sa_handler=0x562fa1608515, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x7f4263760050}, NULL, 8) = 0
  Установлен обработчик для SIGALRM
  Установка таймера на 1 секунду...

  Тест завершен

============================================================
ТЕСТ: Обработка завершения дочернего процесса (SIGCHLD)
============================================================
Описание: Демонстрация обработки сигналов от дочерних процессов

01:44:37.703982 rt_sigaction(SIGCHLD, {sa_handler=0x562fa1608555, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO|SA_NOCLDSTOP, sa_restorer=0x7f4263760050}, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, 8) = 0
  Настроен обработчик для SIGCHLD с информацией о статусе (сигнал 17)
  Флаги: 0x5, Маска: нет
strace: Process 46667 attached
  Дочерний процесс 46667 запущен
  Дочерний процесс 46667 завершается
[pid 46667] 01:44:37.731554 +++ exited with 42 +++
01:44:37.731592 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=46667, si_uid=0, si_status=42, si_utime=2 /* 0.02 s */, si_stime=0} ---

  Получен SIGCHLD (сигнал 17)
  Дочерний процесс 46667 завершился с статусом 42
01:44:37.732029 rt_sigreturn({mask=[]}) = 13432366

  Тест завершен

============================================================
ТЕСТ: Игнорирование SIGHUP
============================================================
Описание: Демонстрация игнорирования сигналов

01:44:38.106514 rt_sigaction(SIGHUP, {sa_handler=SIG_IGN, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x7f4263760050}, NULL, 8) = 0
  SIGHUP теперь игнорируется
  Отправка сигнала 1 текущему процессу...
01:44:38.106988 kill(46666, SIGHUP)     = 0
01:44:38.107081 --- SIGHUP {si_signo=SIGHUP, si_code=SI_USER, si_pid=46666, si_uid=0} ---
  SIGHUP был проигнорирован

  Тест завершен

============================================================
ТЕСТ: Восстановление обработчика по умолчанию (SIGQUIT)
============================================================
Описание: Демонстрация восстановления стандартного поведения сигнала

01:44:38.207697 rt_sigaction(SIGQUIT, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x7f4263760050}, NULL, 8) = 0
  Для SIGQUIT восстановлен обработчик по умолчанию
  Внимание: Отправка SIGQUIT теперь завершит программу!
  (Автоматическая отправка SIGQUIT отключена в целях безопасности)

  Тест завершен

============================================================
ТЕСТ: Обработка SIGPIPE
============================================================
Описание: Демонстрация обработки сигнала при записи в закрытый канал

01:44:38.225492 rt_sigaction(SIGPIPE, {sa_handler=0x562fa16085c1, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x7f4263760050}, NULL, 8) = 0
  Настроен обработчик для SIGPIPE
  Отправка сигнала 13 текущему процессу...
01:44:38.225894 kill(46666, SIGPIPE)    = 0
01:44:38.226094 --- SIGPIPE {si_signo=SIGPIPE, si_code=SI_USER, si_pid=46666, si_uid=0} ---

  Получен SIGPIPE (сигнал 13)
  Попытка записи в закрытый канал/сокет
01:44:38.226483 rt_sigreturn({mask=[]}) = 0

  Тест завершен

============================================================
ТЕСТ: Обработка SIGTSTP (Ctrl+Z)
============================================================
Описание: Демонстрация обработки сигнала приостановки процесса

01:44:38.435255 rt_sigaction(SIGTSTP, {sa_handler=0x562fa1608610, sa_mask=[], sa_flags=SA_RESTORER, sa_restorer=0x7f4263760050}, NULL, 8) = 0
  Настроен обработчик для SIGTSTP (Ctrl+Z)
  Имитация получения SIGTSTP...
  Отправка сигнала 20 текущему процессу...
01:44:38.435708 kill(46666, SIGTSTP)    = 0
01:44:38.435839 --- SIGTSTP {si_signo=SIGTSTP, si_code=SI_USER, si_pid=46666, si_uid=0} ---

  Получен SIGTSTP (сигнал 20)
  Процесс приостановлен. Для продолжения выполните 'fg'
01:44:38.436369 tgkill(46666, 46666, SIGCONT) = 0
01:44:38.436508 --- SIGCONT {si_signo=SIGCONT, si_code=SI_TKILL, si_pid=46666, si_uid=0} ---
01:44:38.436556 rt_sigreturn({mask=[]}) = 0
01:44:38.503426 --- SIGALRM {si_signo=SIGALRM, si_code=SI_KERNEL} ---

  Получен SIGALRM (сигнал 14)
01:44:38.503711 rt_sigreturn({mask=[]}) = 32947382

  Тест завершен

============================================================
ТЕСТ: Маскирование сигналов в критической секции
============================================================
Описание: Демонстрация блокировки сигналов во время выполнения важного кода

  Вход в критическую секцию (блокировка SIGINT и SIGTERM)
01:44:38.504551 rt_sigprocmask(SIG_BLOCK, [INT TERM], [], 8) = 0
  Критическая секция - SIGINT и SIGTERM заблокированы
  Отправка SIGINT... (должен быть отложен)
  Отправка сигнала 2 текущему процессу...
01:44:38.505058 kill(46666, SIGINT)     = 0
  Выход из критической секции (разблокировка сигналов)
01:44:38.605315 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
01:44:38.606109 --- SIGINT {si_signo=SIGINT, si_code=SI_USER, si_pid=46666, si_uid=0} ---

  Получен SIGINT (сигнал 2) от процесса 46666
  Код пользователя: 0
01:44:38.606403 rt_sigreturn({mask=[]}) = 0
  Сигналы разблокированы

  Тест завершен

============================================================
ТЕСТ: Очередь сигналов с данными (sigqueue)
============================================================
Описание: Демонстрация отправки сигналов с дополнительными данными

  Отправка SIGUSR1 с дополнительными данными...
01:44:38.809393 rt_sigqueueinfo(46666, SIGUSR1, {si_signo=SIGUSR1, si_code=SI_QUEUE, si_pid=46666, si_uid=0, si_int=12345, si_ptr=0x3039}) = 0
01:44:38.809523 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_QUEUE, si_pid=46666, si_uid=0, si_int=12345, si_ptr=0x3039} ---

  Получен SIGUSR1 (сигнал 10) от процесса 46666
  Всего получено SIGUSR1: 2
  Сигнал отправлен с данными (sigqueue)
  Дополнительные данные: 12345
01:44:38.810103 rt_sigreturn({mask=[]}) = 0

  Тест завершен

============================================================
ВСЕ ТЕСТЫ УСПЕШНО ЗАВЕРШЕНЫ
============================================================
01:44:39.018378 +++ exited with 0 +++

==============================================
                  ЗАДАНИЕ 3.2                 
==============================================
01:44:39.023123 rt_sigaction(SIGUSR1, {sa_handler=0x558acfccd2df, sa_mask=~[RTMIN RT_1], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7fd6fb076050}, NULL, 8) = 0
01:44:39.023285 rt_sigaction(SIGUSR2, {sa_handler=0x558acfccd42b, sa_mask=~[RTMIN RT_1], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7fd6fb076050}, NULL, 8) = 0
Демонстрация взаимной генерации сигналов:
- Каждый обработчик в середине работы отправляет другой сигнал
- Максимальное количество сигналов: 10

01:44:39.023992 kill(46671, SIGUSR1)    = 0
01:44:39.024069 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.024098451] Начало обработки SIGUSR1 (#1)
[01:44:39.032216720] Обработка SIGUSR1... (1/5)
[01:44:39.039815068] Обработка SIGUSR1... (2/5)
[01:44:39.047505632] Обработка SIGUSR1... (3/5)
[01:44:39.047505632] >> Внутри обработки SIGUSR1: отправляю SIGUSR2
01:44:39.047896 kill(46671, SIGUSR2)    = 0
[01:44:39.057383738] Обработка SIGUSR1... (4/5)
[01:44:39.065041587] Обработка SIGUSR1... (5/5)
[01:44:39.065192197] Конец обработки SIGUSR1 (#1)
01:44:39.065286 rt_sigreturn({mask=[]}) = 0
01:44:39.065501 --- SIGUSR2 {si_signo=SIGUSR2, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.065594857] Начало обработки SIGUSR2 (#2)
[01:44:39.071387764] Обработка SIGUSR2... (1/5)
[01:44:39.077148190] Обработка SIGUSR2... (2/5)
[01:44:39.082877782] Обработка SIGUSR2... (3/5)
[01:44:39.088642083] Обработка SIGUSR2... (4/5)
[01:44:39.088642083] >> Внутри обработки SIGUSR2: отправляю SIGUSR1
01:44:39.089030 kill(46671, SIGUSR1)    = 0
[01:44:39.096767822] Обработка SIGUSR2... (5/5)
[01:44:39.096916218] Конец обработки SIGUSR2 (#2)
01:44:39.097053 rt_sigreturn({mask=[]}) = 0
01:44:39.097194 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.097231803] Начало обработки SIGUSR1 (#3)
[01:44:39.104871802] Обработка SIGUSR1... (1/5)
[01:44:39.112514195] Обработка SIGUSR1... (2/5)
[01:44:39.120121294] Обработка SIGUSR1... (3/5)
[01:44:39.120121294] >> Внутри обработки SIGUSR1: отправляю SIGUSR2
01:44:39.120523 kill(46671, SIGUSR2)    = 0
[01:44:39.130200190] Обработка SIGUSR1... (4/5)
[01:44:39.137859414] Обработка SIGUSR1... (5/5)
[01:44:39.138000744] Конец обработки SIGUSR1 (#3)
01:44:39.138133 rt_sigreturn({mask=[]}) = 0
01:44:39.138312 --- SIGUSR2 {si_signo=SIGUSR2, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.138362389] Начало обработки SIGUSR2 (#4)
[01:44:39.144115305] Обработка SIGUSR2... (1/5)
[01:44:39.149937652] Обработка SIGUSR2... (2/5)
[01:44:39.155768428] Обработка SIGUSR2... (3/5)
[01:44:39.161507430] Обработка SIGUSR2... (4/5)
[01:44:39.161507430] >> Внутри обработки SIGUSR2: отправляю SIGUSR1
01:44:39.161854 kill(46671, SIGUSR1)    = 0
[01:44:39.169525669] Обработка SIGUSR2... (5/5)
[01:44:39.169787244] Конец обработки SIGUSR2 (#4)
01:44:39.170024 rt_sigreturn({mask=[]}) = 0
01:44:39.170225 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.170271594] Начало обработки SIGUSR1 (#5)
[01:44:39.177981533] Обработка SIGUSR1... (1/5)
[01:44:39.185633257] Обработка SIGUSR1... (2/5)
[01:44:39.193424301] Обработка SIGUSR1... (3/5)
[01:44:39.193424301] >> Внутри обработки SIGUSR1: отправляю SIGUSR2
01:44:39.193854 kill(46671, SIGUSR2)    = 0
[01:44:39.203424697] Обработка SIGUSR1... (4/5)
[01:44:39.211116966] Обработка SIGUSR1... (5/5)
[01:44:39.211261316] Конец обработки SIGUSR1 (#5)
01:44:39.211384 rt_sigreturn({mask=[]}) = 0
01:44:39.211524 --- SIGUSR2 {si_signo=SIGUSR2, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.211575831] Начало обработки SIGUSR2 (#6)
[01:44:39.217385457] Обработка SIGUSR2... (1/5)
[01:44:39.223380109] Обработка SIGUSR2... (2/5)
[01:44:39.229192000] Обработка SIGUSR2... (3/5)
[01:44:39.235281752] Обработка SIGUSR2... (4/5)
[01:44:39.235281752] >> Внутри обработки SIGUSR2: отправляю SIGUSR1
01:44:39.235619 kill(46671, SIGUSR1)    = 0
[01:44:39.243224657] Обработка SIGUSR2... (5/5)
[01:44:39.243342316] Конец обработки SIGUSR2 (#6)
01:44:39.243484 rt_sigreturn({mask=[]}) = 0
01:44:39.243591 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.243667667] Начало обработки SIGUSR1 (#7)
[01:44:39.251379836] Обработка SIGUSR1... (1/5)
[01:44:39.259234674] Обработка SIGUSR1... (2/5)
[01:44:39.267008063] Обработка SIGUSR1... (3/5)
[01:44:39.267008063] >> Внутри обработки SIGUSR1: отправляю SIGUSR2
01:44:39.267437 kill(46671, SIGUSR2)    = 0
[01:44:39.277252755] Обработка SIGUSR1... (4/5)
[01:44:39.284966098] Обработка SIGUSR1... (5/5)
[01:44:39.285124463] Конец обработки SIGUSR1 (#7)
01:44:39.285252 rt_sigreturn({mask=[]}) = 0
01:44:39.285400 --- SIGUSR2 {si_signo=SIGUSR2, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.285460584] Начало обработки SIGUSR2 (#8)
[01:44:39.291205830] Обработка SIGUSR2... (1/5)
[01:44:39.297058747] Обработка SIGUSR2... (2/5)
[01:44:39.302797883] Обработка SIGUSR2... (3/5)
[01:44:39.308737790] Обработка SIGUSR2... (4/5)
[01:44:39.308737790] >> Внутри обработки SIGUSR2: отправляю SIGUSR1
01:44:39.309057 kill(46671, SIGUSR1)    = 0
[01:44:39.316839739] Обработка SIGUSR2... (5/5)
[01:44:39.317026769] Конец обработки SIGUSR2 (#8)
01:44:39.317194 rt_sigreturn({mask=[]}) = 0
01:44:39.317354 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.317389609] Начало обработки SIGUSR1 (#9)
[01:44:39.325033278] Обработка SIGUSR1... (1/5)
[01:44:39.332936461] Обработка SIGUSR1... (2/5)
[01:44:39.340614256] Обработка SIGUSR1... (3/5)
[01:44:39.340614256] >> Внутри обработки SIGUSR1: отправляю SIGUSR2
01:44:39.340909 kill(46671, SIGUSR2)    = 0
[01:44:39.350409727] Обработка SIGUSR1... (4/5)
[01:44:39.358415605] Обработка SIGUSR1... (5/5)
[01:44:39.358515166] Конец обработки SIGUSR1 (#9)
01:44:39.358624 rt_sigreturn({mask=[]}) = 0
01:44:39.358840 --- SIGUSR2 {si_signo=SIGUSR2, si_code=SI_USER, si_pid=46671, si_uid=0} ---
[01:44:39.358882286] Начало обработки SIGUSR2 (#10)
[01:44:39.364655072] Обработка SIGUSR2... (1/5)
[01:44:39.370742124] Обработка SIGUSR2... (2/5)
[01:44:39.376640986] Обработка SIGUSR2... (3/5)
[01:44:39.382718767] Обработка SIGUSR2... (4/5)
[01:44:39.388497194] Обработка SIGUSR2... (5/5)
[01:44:39.388632559] Конец обработки SIGUSR2 (#10)
01:44:39.388756 rt_sigreturn({mask=[]}) = 0

Итог: обработано 10 сигналов
01:44:39.389335 +++ exited with 0 +++
[2025-04-04 01:44:39] Время выполнения задания 3: 3 секунд.


[2025-04-04 01:44:39] ВЫПОЛНЕНИЕ ЗАДАНИЯ 4
[2025-04-04 01:44:39] >>> root@ASPIRIN$ strace -tt -v -s 1000 -e trace=signal ./lb3/4 <<<
Программа экспериментов с сигналами.
4.1 и 4.2: Приоритеты сигналов реального времени
1. Проверка приоритетов SIGRTMIN и SIGRTMIN+1
2. Проверка приоритетов для всего диапазона сигналов реального времени
3. Определение сигналов с минимальным и максимальным приоритетом
=== Часть 1: Стандартные сигналы (1-10) ===
Стандартные сигналы:
 1) SIGHUP   (1)
 2) SIGINT   (2)
 3) SIGQUIT  (3)
 4) SIGILL   (4)
 5) SIGTRAP  (5)
 6) SIGABRT  (6)
 7) SIGBUS   (7)
 8) SIGFPE   (8)
 9) SIGKILL  (9)
10) SIGUSR1  (10)

01:44:39.405620 rt_sigaction(SIGHUP, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:39.405869 rt_sigaction(SIGINT, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:39.406009 rt_sigaction(SIGQUIT, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:39.406234 rt_sigaction(SIGILL, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:39.406342 rt_sigaction(SIGTRAP, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:39.406441 rt_sigaction(SIGABRT, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:39.406586 rt_sigaction(SIGBUS, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:39.406687 rt_sigaction(SIGFPE, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:39.406816 rt_sigaction(SIGUSR1, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:39.406940 rt_sigprocmask(SIG_BLOCK, [HUP INT QUIT ILL TRAP ABRT BUS FPE USR1], [], 8) = 0
Отправка сигналов в порядке от SIGUSR1 до SIGHUP:
01:44:39.407182 kill(46682, SIGUSR1)    = 0
  Отправлен SIGUSR1  (10)
  Пропускаем SIGKILL (нельзя отправить самому себе)
01:44:39.407475 kill(46682, SIGFPE)     = 0
  Отправлен SIGFPE   (8)
01:44:39.407735 kill(46682, SIGBUS)     = 0
  Отправлен SIGBUS   (7)
01:44:39.407976 kill(46682, SIGABRT)    = 0
  Отправлен SIGABRT  (6)
01:44:39.408208 kill(46682, SIGTRAP)    = 0
  Отправлен SIGTRAP  (5)
01:44:39.408462 kill(46682, SIGILL)     = 0
  Отправлен SIGILL   (4)
01:44:39.408706 kill(46682, SIGQUIT)    = 0
  Отправлен SIGQUIT  (3)
01:44:39.408916 kill(46682, SIGINT)     = 0
  Отправлен SIGINT   (2)
01:44:39.409166 kill(46682, SIGHUP)     = 0
  Отправлен SIGHUP   (1)

Разблокируем сигналы...
01:44:39.409508 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
01:44:39.409623 --- SIGILL {si_signo=SIGILL, si_code=SI_USER, si_pid=46682, si_uid=0} ---
01:44:39.409686 --- SIGTRAP {si_signo=SIGTRAP, si_code=SI_USER, si_pid=46682, si_uid=0} ---
01:44:39.409764 --- SIGBUS {si_signo=SIGBUS, si_code=SI_USER, si_pid=46682, si_uid=0} ---
01:44:39.409824 --- SIGFPE {si_signo=SIGFPE, si_code=SI_USER, si_pid=46682, si_uid=0} ---
01:44:39.409878 --- SIGHUP {si_signo=SIGHUP, si_code=SI_USER, si_pid=46682, si_uid=0} ---
01:44:39.409925 --- SIGINT {si_signo=SIGINT, si_code=SI_USER, si_pid=46682, si_uid=0} ---
01:44:39.409970 --- SIGQUIT {si_signo=SIGQUIT, si_code=SI_USER, si_pid=46682, si_uid=0} ---
01:44:39.410035 --- SIGABRT {si_signo=SIGABRT, si_code=SI_USER, si_pid=46682, si_uid=0} ---
01:44:39.410086 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=46682, si_uid=0} ---
[Norm] Получен сигнал 10, count = 1
01:44:39.410220 rt_sigreturn({mask=[HUP INT QUIT ILL TRAP ABRT BUS FPE]}) = 0
[Norm] Получен сигнал 6, count = 2
01:44:39.410405 rt_sigreturn({mask=[HUP INT QUIT ILL TRAP BUS FPE]}) = 0
[Norm] Получен сигнал 3, count = 3
01:44:39.410586 rt_sigreturn({mask=[HUP INT ILL TRAP BUS FPE]}) = 0
[Norm] Получен сигнал 2, count = 4
01:44:39.410842 rt_sigreturn({mask=[HUP ILL TRAP BUS FPE]}) = 0
[Norm] Получен сигнал 1, count = 5
01:44:39.411009 rt_sigreturn({mask=[ILL TRAP BUS FPE]}) = 0
[Norm] Получен сигнал 8, count = 6
01:44:39.411187 rt_sigreturn({mask=[ILL TRAP BUS]}) = 0
[Norm] Получен сигнал 7, count = 7
01:44:39.411360 rt_sigreturn({mask=[ILL TRAP]}) = 0
[Norm] Получен сигнал 5, count = 8
01:44:39.411525 rt_sigreturn({mask=[ILL]}) = 0
[Norm] Получен сигнал 4, count = 9
01:44:39.411715 rt_sigreturn({mask=[]}) = 0

Результат для стандартных сигналов:
  Обычно обрабатываются в порядке получения без строгих приоритетов
  SIGKILL (9) не может быть перехвачен или заблокирован

=== Часть 2: Сигналы реального времени ===
Справочная информация:
  SIGRTMIN = 34
  SIGRTMAX = 64
  Всего сигналов реального времени: 31
  Приоритет: меньший номер => более высокий приоритет

=== Подчасть 2.1: Проверка SIGRTMIN и SIGRTMIN+1 ===
01:44:40.413504 rt_sigaction(SIGRT_2, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:40.413626 rt_sigaction(SIGRT_3, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:40.413741 rt_sigprocmask(SIG_BLOCK, [RT_2 RT_3], [], 8) = 0
Отправка сигналов в порядке: сначала SIGRTMIN+1, затем SIGRTMIN
01:44:40.414151 rt_sigqueueinfo(46682, SIGRT_3, {si_signo=SIGRT_3, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=100, si_ptr=0x64}) = 0
  Отправлен SIGRTMIN+1 (35) с значением 100
01:44:40.414547 rt_sigqueueinfo(46682, SIGRT_2, {si_signo=SIGRT_2, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=200, si_ptr=0xc8}) = 0
  Отправлен SIGRTMIN (34) с значением 200

Разблокируем сигналы...
01:44:40.415047 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
01:44:40.415141 --- SIGRT_2 {si_signo=SIGRT_2, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=200, si_ptr=0xc8} ---
01:44:40.415195 --- SIGRT_3 {si_signo=SIGRT_3, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=100, si_ptr=0x64} ---
[RT] Получен сигнал 35, sigval = 100, count = 10
01:44:40.415369 rt_sigreturn({mask=[RT_2]}) = 0
[RT] Получен сигнал 34, sigval = 200, count = 11
01:44:40.415566 rt_sigreturn({mask=[]}) = 0

Ожидаемый результат:
  Должен первым обработаться SIGRTMIN, несмотря на то что он был отправлен вторым

=== Подчасть 2.2: Проверка всего диапазона RT сигналов ===
01:44:41.421884 rt_sigaction(SIGRT_2, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.422008 rt_sigaction(SIGRT_3, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.422142 rt_sigaction(SIGRT_4, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.422268 rt_sigaction(SIGRT_5, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.422387 rt_sigaction(SIGRT_6, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.422527 rt_sigaction(SIGRT_7, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.422631 rt_sigaction(SIGRT_8, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.422763 rt_sigaction(SIGRT_9, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.422877 rt_sigaction(SIGRT_10, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423002 rt_sigaction(SIGRT_11, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423108 rt_sigaction(SIGRT_12, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423223 rt_sigaction(SIGRT_13, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423324 rt_sigaction(SIGRT_14, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423433 rt_sigaction(SIGRT_15, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423567 rt_sigaction(SIGRT_16, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423638 rt_sigaction(SIGRT_17, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423749 rt_sigaction(SIGRT_18, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423844 rt_sigaction(SIGRT_19, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.423961 rt_sigaction(SIGRT_20, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.424099 rt_sigaction(SIGRT_21, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.424216 rt_sigaction(SIGRT_22, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.424315 rt_sigaction(SIGRT_23, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.424428 rt_sigaction(SIGRT_24, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.424548 rt_sigaction(SIGRT_25, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.424652 rt_sigaction(SIGRT_26, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.424758 rt_sigaction(SIGRT_27, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.424876 rt_sigaction(SIGRT_28, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.424994 rt_sigaction(SIGRT_29, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.425145 rt_sigaction(SIGRT_30, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.425257 rt_sigaction(SIGRT_31, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.425361 rt_sigaction(SIGRT_32, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:41.425449 rt_sigprocmask(SIG_BLOCK, [RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23 RT_24 RT_25 RT_26 RT_27 RT_28 RT_29 RT_30 RT_31 RT_32], [], 8) = 0
Отправка сигналов в порядке от SIGRTMAX до SIGRTMIN:
01:44:41.425908 rt_sigqueueinfo(46682, SIGRT_32, {si_signo=SIGRT_32, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=64, si_ptr=0x40}) = 0
  Отправлен SIGRT(64)
01:44:41.426327 rt_sigqueueinfo(46682, SIGRT_31, {si_signo=SIGRT_31, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=63, si_ptr=0x3f}) = 0
  Отправлен SIGRT(63)
01:44:41.426749 rt_sigqueueinfo(46682, SIGRT_30, {si_signo=SIGRT_30, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=62, si_ptr=0x3e}) = 0
  Отправлен SIGRT(62)
01:44:41.427144 rt_sigqueueinfo(46682, SIGRT_29, {si_signo=SIGRT_29, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=61, si_ptr=0x3d}) = 0
  Отправлен SIGRT(61)
01:44:41.427531 rt_sigqueueinfo(46682, SIGRT_28, {si_signo=SIGRT_28, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=60, si_ptr=0x3c}) = 0
  Отправлен SIGRT(60)
01:44:41.427960 rt_sigqueueinfo(46682, SIGRT_27, {si_signo=SIGRT_27, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=59, si_ptr=0x3b}) = 0
  Отправлен SIGRT(59)
01:44:41.428357 rt_sigqueueinfo(46682, SIGRT_26, {si_signo=SIGRT_26, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=58, si_ptr=0x3a}) = 0
  Отправлен SIGRT(58)
01:44:41.428725 rt_sigqueueinfo(46682, SIGRT_25, {si_signo=SIGRT_25, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=57, si_ptr=0x39}) = 0
  Отправлен SIGRT(57)
01:44:41.429078 rt_sigqueueinfo(46682, SIGRT_24, {si_signo=SIGRT_24, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=56, si_ptr=0x38}) = 0
  Отправлен SIGRT(56)
01:44:41.429456 rt_sigqueueinfo(46682, SIGRT_23, {si_signo=SIGRT_23, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=55, si_ptr=0x37}) = 0
  Отправлен SIGRT(55)
01:44:41.429801 rt_sigqueueinfo(46682, SIGRT_22, {si_signo=SIGRT_22, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=54, si_ptr=0x36}) = 0
  Отправлен SIGRT(54)
01:44:41.430219 rt_sigqueueinfo(46682, SIGRT_21, {si_signo=SIGRT_21, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=53, si_ptr=0x35}) = 0
  Отправлен SIGRT(53)
01:44:41.430616 rt_sigqueueinfo(46682, SIGRT_20, {si_signo=SIGRT_20, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=52, si_ptr=0x34}) = 0
  Отправлен SIGRT(52)
01:44:41.430993 rt_sigqueueinfo(46682, SIGRT_19, {si_signo=SIGRT_19, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=51, si_ptr=0x33}) = 0
  Отправлен SIGRT(51)
01:44:41.431368 rt_sigqueueinfo(46682, SIGRT_18, {si_signo=SIGRT_18, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=50, si_ptr=0x32}) = 0
  Отправлен SIGRT(50)
01:44:41.431716 rt_sigqueueinfo(46682, SIGRT_17, {si_signo=SIGRT_17, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=49, si_ptr=0x31}) = 0
  Отправлен SIGRT(49)
01:44:41.432109 rt_sigqueueinfo(46682, SIGRT_16, {si_signo=SIGRT_16, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=48, si_ptr=0x30}) = 0
  Отправлен SIGRT(48)
01:44:41.432520 rt_sigqueueinfo(46682, SIGRT_15, {si_signo=SIGRT_15, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=47, si_ptr=0x2f}) = 0
  Отправлен SIGRT(47)
01:44:41.432936 rt_sigqueueinfo(46682, SIGRT_14, {si_signo=SIGRT_14, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=46, si_ptr=0x2e}) = 0
  Отправлен SIGRT(46)
01:44:41.433296 rt_sigqueueinfo(46682, SIGRT_13, {si_signo=SIGRT_13, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=45, si_ptr=0x2d}) = 0
  Отправлен SIGRT(45)
01:44:41.433747 rt_sigqueueinfo(46682, SIGRT_12, {si_signo=SIGRT_12, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=44, si_ptr=0x2c}) = 0
  Отправлен SIGRT(44)
01:44:41.434160 rt_sigqueueinfo(46682, SIGRT_11, {si_signo=SIGRT_11, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=43, si_ptr=0x2b}) = 0
  Отправлен SIGRT(43)
01:44:41.434614 rt_sigqueueinfo(46682, SIGRT_10, {si_signo=SIGRT_10, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=42, si_ptr=0x2a}) = 0
  Отправлен SIGRT(42)
01:44:41.435028 rt_sigqueueinfo(46682, SIGRT_9, {si_signo=SIGRT_9, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=41, si_ptr=0x29}) = 0
  Отправлен SIGRT(41)
01:44:41.435426 rt_sigqueueinfo(46682, SIGRT_8, {si_signo=SIGRT_8, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=40, si_ptr=0x28}) = 0
  Отправлен SIGRT(40)
01:44:41.435834 rt_sigqueueinfo(46682, SIGRT_7, {si_signo=SIGRT_7, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=39, si_ptr=0x27}) = 0
  Отправлен SIGRT(39)
01:44:41.436215 rt_sigqueueinfo(46682, SIGRT_6, {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=38, si_ptr=0x26}) = 0
  Отправлен SIGRT(38)
01:44:41.436598 rt_sigqueueinfo(46682, SIGRT_5, {si_signo=SIGRT_5, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=37, si_ptr=0x25}) = 0
  Отправлен SIGRT(37)
01:44:41.437052 rt_sigqueueinfo(46682, SIGRT_4, {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=36, si_ptr=0x24}) = 0
  Отправлен SIGRT(36)
01:44:41.437509 rt_sigqueueinfo(46682, SIGRT_3, {si_signo=SIGRT_3, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=35, si_ptr=0x23}) = 0
  Отправлен SIGRT(35)
01:44:41.437872 rt_sigqueueinfo(46682, SIGRT_2, {si_signo=SIGRT_2, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=34, si_ptr=0x22}) = 0
  Отправлен SIGRT(34)

Разблокируем сигналы...
01:44:41.438231 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
01:44:41.438406 --- SIGRT_2 {si_signo=SIGRT_2, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=34, si_ptr=0x22} ---
01:44:41.438462 --- SIGRT_3 {si_signo=SIGRT_3, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=35, si_ptr=0x23} ---
01:44:41.438529 --- SIGRT_4 {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=36, si_ptr=0x24} ---
01:44:41.438589 --- SIGRT_5 {si_signo=SIGRT_5, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=37, si_ptr=0x25} ---
01:44:41.438641 --- SIGRT_6 {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=38, si_ptr=0x26} ---
01:44:41.438734 --- SIGRT_7 {si_signo=SIGRT_7, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=39, si_ptr=0x27} ---
01:44:41.438805 --- SIGRT_8 {si_signo=SIGRT_8, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=40, si_ptr=0x28} ---
01:44:41.438873 --- SIGRT_9 {si_signo=SIGRT_9, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=41, si_ptr=0x29} ---
01:44:41.438916 --- SIGRT_10 {si_signo=SIGRT_10, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=42, si_ptr=0x2a} ---
01:44:41.438990 --- SIGRT_11 {si_signo=SIGRT_11, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=43, si_ptr=0x2b} ---
01:44:41.439047 --- SIGRT_12 {si_signo=SIGRT_12, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=44, si_ptr=0x2c} ---
01:44:41.439116 --- SIGRT_13 {si_signo=SIGRT_13, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=45, si_ptr=0x2d} ---
01:44:41.439171 --- SIGRT_14 {si_signo=SIGRT_14, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=46, si_ptr=0x2e} ---
01:44:41.439213 --- SIGRT_15 {si_signo=SIGRT_15, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=47, si_ptr=0x2f} ---
01:44:41.439273 --- SIGRT_16 {si_signo=SIGRT_16, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=48, si_ptr=0x30} ---
01:44:41.439358 --- SIGRT_17 {si_signo=SIGRT_17, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=49, si_ptr=0x31} ---
01:44:41.439432 --- SIGRT_18 {si_signo=SIGRT_18, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=50, si_ptr=0x32} ---
01:44:41.439496 --- SIGRT_19 {si_signo=SIGRT_19, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=51, si_ptr=0x33} ---
01:44:41.439551 --- SIGRT_20 {si_signo=SIGRT_20, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=52, si_ptr=0x34} ---
01:44:41.439612 --- SIGRT_21 {si_signo=SIGRT_21, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=53, si_ptr=0x35} ---
01:44:41.440047 --- SIGRT_22 {si_signo=SIGRT_22, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=54, si_ptr=0x36} ---
01:44:41.440109 --- SIGRT_23 {si_signo=SIGRT_23, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=55, si_ptr=0x37} ---
01:44:41.440168 --- SIGRT_24 {si_signo=SIGRT_24, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=56, si_ptr=0x38} ---
01:44:41.440231 --- SIGRT_25 {si_signo=SIGRT_25, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=57, si_ptr=0x39} ---
01:44:41.440282 --- SIGRT_26 {si_signo=SIGRT_26, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=58, si_ptr=0x3a} ---
01:44:41.440338 --- SIGRT_27 {si_signo=SIGRT_27, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=59, si_ptr=0x3b} ---
01:44:41.440407 --- SIGRT_28 {si_signo=SIGRT_28, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=60, si_ptr=0x3c} ---
01:44:41.440459 --- SIGRT_29 {si_signo=SIGRT_29, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=61, si_ptr=0x3d} ---
01:44:41.440516 --- SIGRT_30 {si_signo=SIGRT_30, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=62, si_ptr=0x3e} ---
01:44:41.440562 --- SIGRT_31 {si_signo=SIGRT_31, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=63, si_ptr=0x3f} ---
01:44:41.440621 --- SIGRT_32 {si_signo=SIGRT_32, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=64, si_ptr=0x40} ---
[RT] Получен сигнал 64, sigval = 64, count = 12
01:44:41.440873 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23 RT_24 RT_25 RT_26 RT_27 RT_28 RT_29 RT_30 RT_31]}) = 0
[RT] Получен сигнал 63, sigval = 63, count = 13
01:44:41.441062 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23 RT_24 RT_25 RT_26 RT_27 RT_28 RT_29 RT_30]}) = 0
[RT] Получен сигнал 62, sigval = 62, count = 14
01:44:41.441265 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23 RT_24 RT_25 RT_26 RT_27 RT_28 RT_29]}) = 0
[RT] Получен сигнал 61, sigval = 61, count = 15
01:44:41.441556 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23 RT_24 RT_25 RT_26 RT_27 RT_28]}) = 0
[RT] Получен сигнал 60, sigval = 60, count = 16
01:44:41.441786 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23 RT_24 RT_25 RT_26 RT_27]}) = 0
[RT] Получен сигнал 59, sigval = 59, count = 17
01:44:41.441977 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23 RT_24 RT_25 RT_26]}) = 0
[RT] Получен сигнал 58, sigval = 58, count = 18
01:44:41.442192 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23 RT_24 RT_25]}) = 0
[RT] Получен сигнал 57, sigval = 57, count = 19
01:44:41.442421 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23 RT_24]}) = 0
[RT] Получен сигнал 56, sigval = 56, count = 20
01:44:41.442623 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22 RT_23]}) = 0
[RT] Получен сигнал 55, sigval = 55, count = 21
01:44:41.443021 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21 RT_22]}) = 0
[RT] Получен сигнал 54, sigval = 54, count = 22
01:44:41.443216 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20 RT_21]}) = 0
[RT] Получен сигнал 53, sigval = 53, count = 23
01:44:41.443481 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19 RT_20]}) = 0
[RT] Получен сигнал 52, sigval = 52, count = 24
01:44:41.443716 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18 RT_19]}) = 0
[RT] Получен сигнал 51, sigval = 51, count = 25
01:44:41.443945 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17 RT_18]}) = 0
[RT] Получен сигнал 50, sigval = 50, count = 26
01:44:41.444267 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16 RT_17]}) = 0
[RT] Получен сигнал 49, sigval = 49, count = 27
01:44:41.444489 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15 RT_16]}) = 0
[RT] Получен сигнал 48, sigval = 48, count = 28
01:44:41.444715 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14 RT_15]}) = 0
[RT] Получен сигнал 47, sigval = 47, count = 29
01:44:41.444895 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13 RT_14]}) = 0
[RT] Получен сигнал 46, sigval = 46, count = 30
01:44:41.445133 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12 RT_13]}) = 0
[RT] Получен сигнал 45, sigval = 45, count = 31
01:44:41.445337 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11 RT_12]}) = 0
[RT] Получен сигнал 44, sigval = 44, count = 32
01:44:41.445655 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10 RT_11]}) = 0
[RT] Получен сигнал 43, sigval = 43, count = 33
01:44:41.445865 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9 RT_10]}) = 0
[RT] Получен сигнал 42, sigval = 42, count = 34
01:44:41.446058 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8 RT_9]}) = 0
[RT] Получен сигнал 41, sigval = 41, count = 35
01:44:41.446305 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7 RT_8]}) = 0
[RT] Получен сигнал 40, sigval = 40, count = 36
01:44:41.446513 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6 RT_7]}) = 0
[RT] Получен сигнал 39, sigval = 39, count = 37
01:44:41.446727 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5 RT_6]}) = 0
[RT] Получен сигнал 38, sigval = 38, count = 38
01:44:41.446961 rt_sigreturn({mask=[RT_2 RT_3 RT_4 RT_5]}) = 0
[RT] Получен сигнал 37, sigval = 37, count = 39
01:44:41.447185 rt_sigreturn({mask=[RT_2 RT_3 RT_4]}) = 0
[RT] Получен сигнал 36, sigval = 36, count = 40
01:44:41.447366 rt_sigreturn({mask=[RT_2 RT_3]}) = 0
[RT] Получен сигнал 35, sigval = 35, count = 41
01:44:41.447559 rt_sigreturn({mask=[RT_2]}) = 0
[RT] Получен сигнал 34, sigval = 34, count = 42
01:44:41.447795 rt_sigreturn({mask=[]}) = 0

Результат для RT сигналов:
  Сигналы обрабатываются в порядке от SIGRTMIN до SIGRTMAX
  Максимальный приоритет: SIGRTMIN (34)
  Минимальный приоритет: SIGRTMAX (64)
Эксперимент 4.1 и 4.2 завершен.
Эксперимент 4.3.1: Очередь обычных сигналов (например, SIGUSR1)
01:44:42.449231 rt_sigaction(SIGUSR1, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:42.449376 rt_sigprocmask(SIG_BLOCK, [USR1], [], 8) = 0
01:44:42.449572 kill(46682, SIGUSR1)    = 0
Отослан SIGUSR1 #1
01:44:42.449814 kill(46682, SIGUSR1)    = 0
Отослан SIGUSR1 #2
01:44:42.450038 kill(46682, SIGUSR1)    = 0
Отослан SIGUSR1 #3
01:44:42.450294 kill(46682, SIGUSR1)    = 0
Отослан SIGUSR1 #4
01:44:42.450547 kill(46682, SIGUSR1)    = 0
Отослан SIGUSR1 #5
01:44:42.450760 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
01:44:42.450893 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=46682, si_uid=0} ---
[Norm] Получен сигнал 10, count = 1
01:44:42.451066 rt_sigreturn({mask=[]}) = 0
Обработчик вызвался 1 раз (ожидалось 1, так как обычные сигналы не очередатся)
Эксперимент 4.3.1 завершен.
Эксперимент 4.3.2: Очередь сигналов реального времени
01:44:42.451421 rt_sigaction(SIGRT_4, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:42.451527 rt_sigprocmask(SIG_BLOCK, [RT_4], [], 8) = 0
01:44:42.451813 rt_sigqueueinfo(46682, SIGRT_4, {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1, si_ptr=0x561c00000001}) = 0
Отослан SIGRT(36) с данными 1
01:44:42.452171 rt_sigqueueinfo(46682, SIGRT_4, {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=2, si_ptr=0x561c00000002}) = 0
Отослан SIGRT(36) с данными 2
01:44:42.452628 rt_sigqueueinfo(46682, SIGRT_4, {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=3, si_ptr=0x561c00000003}) = 0
Отослан SIGRT(36) с данными 3
01:44:42.453036 rt_sigqueueinfo(46682, SIGRT_4, {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=4, si_ptr=0x561c00000004}) = 0
Отослан SIGRT(36) с данными 4
01:44:42.453427 rt_sigqueueinfo(46682, SIGRT_4, {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=5, si_ptr=0x561c00000005}) = 0
Отослан SIGRT(36) с данными 5
01:44:42.453624 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
01:44:42.453728 --- SIGRT_4 {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1, si_ptr=0x561c00000001} ---
[RT] Получен сигнал 36, sigval = 1, count = 1
01:44:42.453873 rt_sigreturn({mask=[]}) = 0
01:44:42.453964 --- SIGRT_4 {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=2, si_ptr=0x561c00000002} ---
[RT] Получен сигнал 36, sigval = 2, count = 2
01:44:42.454138 rt_sigreturn({mask=[]}) = 0
01:44:42.454241 --- SIGRT_4 {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=3, si_ptr=0x561c00000003} ---
[RT] Получен сигнал 36, sigval = 3, count = 3
01:44:42.454378 rt_sigreturn({mask=[]}) = 0
01:44:42.454483 --- SIGRT_4 {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=4, si_ptr=0x561c00000004} ---
[RT] Получен сигнал 36, sigval = 4, count = 4
01:44:42.454619 rt_sigreturn({mask=[]}) = 0
01:44:42.454747 --- SIGRT_4 {si_signo=SIGRT_4, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=5, si_ptr=0x561c00000005} ---
[RT] Получен сигнал 36, sigval = 5, count = 5
01:44:42.454884 rt_sigreturn({mask=[]}) = 0
Обработчик вызвался 5 раз (ожидалось 5, так как сигналы реального времени очередатся)
Эксперимент 4.3.2 завершен.
Эксперимент 4.3.3: Очередь смешанного набора сигналов
01:44:42.455344 rt_sigaction(SIGUSR2, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:42.455456 rt_sigaction(SIGRT_5, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:42.455557 rt_sigprocmask(SIG_BLOCK, [USR2 RT_5], [], 8) = 0
01:44:42.455753 kill(46682, SIGUSR2)    = 0
01:44:42.456064 rt_sigqueueinfo(46682, SIGRT_5, {si_signo=SIGRT_5, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=101, si_ptr=0x561c00000065}) = 0
01:44:42.456234 kill(46682, SIGUSR2)    = 0
01:44:42.456523 rt_sigqueueinfo(46682, SIGRT_5, {si_signo=SIGRT_5, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=202, si_ptr=0x561c000000ca}) = 0
01:44:42.456613 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
01:44:42.456715 --- SIGUSR2 {si_signo=SIGUSR2, si_code=SI_USER, si_pid=46682, si_uid=0} ---
01:44:42.456762 --- SIGRT_5 {si_signo=SIGRT_5, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=101, si_ptr=0x561c00000065} ---
[RT] Получен сигнал 37, sigval = 101, count = 1
01:44:42.456904 rt_sigreturn({mask=[USR2]}) = 0
01:44:42.457028 --- SIGRT_5 {si_signo=SIGRT_5, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=202, si_ptr=0x561c000000ca} ---
[RT] Получен сигнал 37, sigval = 202, count = 2
01:44:42.457168 rt_sigreturn({mask=[USR2]}) = 0
[Norm] Получен сигнал 12, count = 3
01:44:42.457364 rt_sigreturn({mask=[]}) = 0
Обработчик вызвался 3 раз.
Заметим, что обычные сигналы (SIGUSR2) не очередатся: они обрабатываются один раз, а сигналы реального времени – все.
Эксперимент 4.3.3 завершен.
Эксперимент 4.4: Проверка FIFO для равноприоритетных сигналов реального времени
01:44:42.457815 rt_sigaction(SIGRT_6, {sa_handler=0x561c78884239, sa_mask=[], sa_flags=SA_RESTORER|SA_SIGINFO, sa_restorer=0x7f0355ae9050}, NULL, 8) = 0
01:44:42.457904 rt_sigprocmask(SIG_BLOCK, [RT_6], [], 8) = 0
01:44:42.458265 rt_sigqueueinfo(46682, SIGRT_6, {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1000, si_ptr=0x561c000003e8}) = 0
Отослан SIGRT(38) с данными 1000
01:44:42.458704 rt_sigqueueinfo(46682, SIGRT_6, {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1001, si_ptr=0x561c000003e9}) = 0
Отослан SIGRT(38) с данными 1001
01:44:42.459078 rt_sigqueueinfo(46682, SIGRT_6, {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1002, si_ptr=0x561c000003ea}) = 0
Отослан SIGRT(38) с данными 1002
01:44:42.459450 rt_sigqueueinfo(46682, SIGRT_6, {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1003, si_ptr=0x561c000003eb}) = 0
Отослан SIGRT(38) с данными 1003
01:44:42.459808 rt_sigqueueinfo(46682, SIGRT_6, {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1004, si_ptr=0x561c000003ec}) = 0
Отослан SIGRT(38) с данными 1004
01:44:42.459998 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
01:44:42.460099 --- SIGRT_6 {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1000, si_ptr=0x561c000003e8} ---
[RT] Получен сигнал 38, sigval = 1000, count = 1
01:44:42.460256 rt_sigreturn({mask=[]}) = 0
01:44:42.460359 --- SIGRT_6 {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1001, si_ptr=0x561c000003e9} ---
[RT] Получен сигнал 38, sigval = 1001, count = 2
01:44:42.460481 rt_sigreturn({mask=[]}) = 0
01:44:42.460577 --- SIGRT_6 {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1002, si_ptr=0x561c000003ea} ---
[RT] Получен сигнал 38, sigval = 1002, count = 3
01:44:42.460717 rt_sigreturn({mask=[]}) = 0
01:44:42.460853 --- SIGRT_6 {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1003, si_ptr=0x561c000003eb} ---
[RT] Получен сигнал 38, sigval = 1003, count = 4
01:44:42.460998 rt_sigreturn({mask=[]}) = 0
01:44:42.461083 --- SIGRT_6 {si_signo=SIGRT_6, si_code=SI_QUEUE, si_pid=46682, si_uid=0, si_int=1004, si_ptr=0x561c000003ec} ---
[RT] Получен сигнал 38, sigval = 1004, count = 5
01:44:42.461303 rt_sigreturn({mask=[]}) = 0
Если порядок доставки соответствует порядку отправки, то FIFO подтвержден.
Эксперимент 4.4 завершен.
01:44:42.461780 +++ exited with 0 +++
[2025-04-04 01:44:42] Время выполнения задания 4: 3 секунд.


[2025-04-04 01:44:42] [КОММЕНТАРИЙ] POSIX Вариант
[2025-04-04 01:44:42] ВЫПОЛНЕНИЕ ЗАДАНИЯ 5.1
[2025-04-04 01:44:42] >>> root@ASPIRIN$ strace -f -e trace=read,write,futex -s 1000 ./lb3/5/5-posix 5 <<<
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20t\2\0\0\0\0\0@\0\0\0\0\0\0\0XD\35\0\0\0\0\0\0\0\0\0@\08\0\16\0@\0@\0?\0\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0\20\3\0\0\0\0\0\0\20\3\0\0\0\0\0\0\10\0\0\0\0\0\0\0\3\0\0\0\4\0\0\0\360\n\32\0\0\0\0\0\360\n\32\0\0\0\0\0\360\n\32\0\0\0\0\0\34\0\0\0\0\0\0\0\34\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0\1\0\0\0\4\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\210S\2\0\0\0\0\0\210S\2\0\0\0\0\0\0\20\0\0\0\0\0\0\1\0\0\0\5\0\0\0\0`\2\0\0\0\0\0\0`\2\0\0\0\0\0\0`\2\0\0\0\0\0\374O\25\0\0\0\0\0\374O\25\0\0\0\0\0\0\20\0\0\0\0\0\0\1\0\0\0\4\0\0\0\0\260\27\0\0\0\0\0\0\260\27\0\0\0\0\0\0\260\27\0\0\0\0\0\371+\5\0\0\0\0\0\371+\5\0\0\0\0\0\0\20\0\0\0\0\0\0\1\0\0\0\6\0\0\0\320\350\34\0\0\0\0\0\320\350\34\0\0\0\0\0\320\350\34\0\0\0\0\0\230O\0\0\0\0\0\0\200&\1\0\0\0\0\0\0\20\0\0\0\0\0\0\2\0\0\0\6\0\0\0`\33\35\0\0\0\0\0`\33\35\0\0\0\0\0`\33\35\0\0\0\0\0\0\2\0\0\0\0\0\0\0\2\0\0\0\0\0\0\10\0\0\0\0\0\0\0\4\0\0\0\4\0\0\0P\3\0\0\0\0\0\0P\3\0\0\0\0\0\0P\3\0\0\0\0\0\0 \0\0\0\0\0\0\0 \0\0\0\0\0\0\0\10\0\0\0\0\0\0\0\4\0\0\0\4\0\0\0p\3\0\0\0\0\0\0p\3\0\0\0\0\0\0p\3\0\0\0\0\0\0D\0\0\0\0\0\0\0D\0\0\0\0\0\0\0\4\0\0\0\0\0\0\0\7\0\0\0\4\0\0\0\320\350\34\0\0\0\0\0\320\350\34\0\0\0\0\0\320\350\34\0\0\0\0\0\20\0\0\0\0\0\0\0\220\0\0\0\0\0\0\0\10\0\0\0\0\0\0\0S\345td\4\0\0\0P\3\0\0\0\0\0\0P\3\0\0\0\0\0\0P\3\0\0\0\0\0\0 \0\0\0\0\0\0\0 \0\0\0\0\0\0\0\10\0\0\0\0\0\0\0P\345td\4\0\0\0\f\v\32\0\0\0\0\0\f\v\32\0\0\0\0\0\f\v\32\0\0\0\0\0\24t\0\0\0\0\0\0\24t\0\0\0\0\0\0\4\0\0\0\0\0\0\0Q\345td\6\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0R\345td\4\0\0\0\320\350\34\0\0\0\0\0\320\350\34\0\0\0\0\0\320\350\34\0\0\0\0\00007\0\0\0\0\0\0", 832) = 832
write(3, "\1\0\0\0\0\0\0\0\200\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 32) = 32
write(3, "\0\0\0\0\0\0\0\0\200\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 32) = 32
strace: Process 46714 attached
[pid 46713] write(1, "Writer process (PID: 46713) started, created reader (PID: 46714)\n", 65Writer process (PID: 46713) started, created reader (PID: 46714)
) = 65
[pid 46714] write(1, "Reader process (PID: 46714) started\n", 36Reader process (PID: 46714) started
) = 36
[pid 46714] futex(0x7fac6805b000, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46713] write(1, "[Writer PID 46713] Sent: Message 1 from PID 46713\n", 50[Writer PID 46713] Sent: Message 1 from PID 46713
) = 50
[pid 46713] futex(0x7fac6805b000, FUTEX_WAKE, 1) = 1
[pid 46714] <... futex resumed>)        = 0
[pid 46713] futex(0x7fac6805c000, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46714] write(1, "[Reader PID 46714] Received: Message 1 from PID 46713\n", 54[Reader PID 46714] Received: Message 1 from PID 46713
) = 54
[pid 46714] futex(0x7fac6805c000, FUTEX_WAKE, 1 <unfinished ...>
[pid 46713] <... futex resumed>)        = 0
[pid 46714] <... futex resumed>)        = 1
[pid 46714] futex(0x7fac6805b000, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46713] write(1, "[Writer PID 46713] Sent: Message 2 from PID 46713\n", 50[Writer PID 46713] Sent: Message 2 from PID 46713
) = 50
[pid 46713] futex(0x7fac6805b000, FUTEX_WAKE, 1) = 1
[pid 46714] <... futex resumed>)        = 0
[pid 46713] futex(0x7fac6805c000, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46714] write(1, "[Reader PID 46714] Received: Message 2 from PID 46713\n", 54[Reader PID 46714] Received: Message 2 from PID 46713
) = 54
[pid 46714] futex(0x7fac6805c000, FUTEX_WAKE, 1) = 1
[pid 46713] <... futex resumed>)        = 0
[pid 46714] futex(0x7fac6805b000, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46713] write(1, "[Writer PID 46713] Sent: Message 3 from PID 46713\n", 50[Writer PID 46713] Sent: Message 3 from PID 46713
) = 50
[pid 46713] futex(0x7fac6805b000, FUTEX_WAKE, 1) = 1
[pid 46714] <... futex resumed>)        = 0
[pid 46713] futex(0x7fac6805c000, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46714] write(1, "[Reader PID 46714] Received: Message 3 from PID 46713\n", 54[Reader PID 46714] Received: Message 3 from PID 46713
) = 54
[pid 46714] futex(0x7fac6805c000, FUTEX_WAKE, 1) = 1
[pid 46713] <... futex resumed>)        = 0
[pid 46714] futex(0x7fac6805b000, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46713] write(1, "[Writer PID 46713] Sent: Message 4 from PID 46713\n", 50[Writer PID 46713] Sent: Message 4 from PID 46713
) = 50
[pid 46713] futex(0x7fac6805b000, FUTEX_WAKE, 1) = 1
[pid 46714] <... futex resumed>)        = 0
[pid 46713] futex(0x7fac6805c000, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46714] write(1, "[Reader PID 46714] Received: Message 4 from PID 46713\n", 54[Reader PID 46714] Received: Message 4 from PID 46713
) = 54
[pid 46714] futex(0x7fac6805c000, FUTEX_WAKE, 1) = 1
[pid 46713] <... futex resumed>)        = 0
[pid 46714] futex(0x7fac6805b000, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46713] write(1, "[Writer PID 46713] Sent: Message 5 from PID 46713\n", 50[Writer PID 46713] Sent: Message 5 from PID 46713
) = 50
[pid 46713] futex(0x7fac6805b000, FUTEX_WAKE, 1) = 1
[pid 46714] <... futex resumed>)        = 0
[pid 46714] write(1, "[Reader PID 46714] Received: Message 5 from PID 46713\n", 54[Reader PID 46714] Received: Message 5 from PID 46713
) = 54
[pid 46714] +++ exited with 0 +++
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=46714, si_uid=0, si_status=0, si_utime=0, si_stime=0} ---
+++ exited with 0 +++
[2025-04-04 01:44:42] Время выполнения задания 5.1: 0 секунд.


[2025-04-04 01:44:42] [КОММЕНТАРИЙ] SYSTEMV Вариант
[2025-04-04 01:44:42] ВЫПОЛНЕНИЕ ЗАДАНИЯ 5.2
[2025-04-04 01:44:42] >>> root@ASPIRIN$ strace -f -e trace=read,write,shmget,shmat,shmdt,semop,semctl,futex ./lb3/5/5-systemv 5 <<<
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20t\2\0\0\0\0\0"..., 832) = 832
shmget(0x1234, 1024, IPC_CREAT|0666)    = 32791
shmat(32791, NULL, 0)                   = 0x7ff02e1ae000
semctl(32771, 0, SETALL, 0x7ffd9d15bee4) = 0
strace: Process 46727 attached
strace: Process 46728 attached
[pid 46727] write(1, "\n", 1
)           = 1
[pid 46727] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 (PID 46727) \320\276\321"..., 83Писатель (PID 46727) отправил: Сообщение 1 от PID 46727
) = 83
[pid 46728] write(1, "\n", 1
)           = 1
[pid 46728] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 (PID 46728) \320\277\320"..., 98Читатель (PID 46728) получил: Сообщение 1 от PID 46727 (от PID 46727)
) = 98
[pid 46727] write(1, "\n", 1
)           = 1
[pid 46727] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 (PID 46727) \320\276\321"..., 83Писатель (PID 46727) отправил: Сообщение 2 от PID 46727
) = 83
[pid 46728] write(1, "\n", 1
)           = 1
[pid 46728] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 (PID 46728) \320\277\320"..., 98Читатель (PID 46728) получил: Сообщение 2 от PID 46727 (от PID 46727)
) = 98
[pid 46727] write(1, "\n", 1
)           = 1
[pid 46727] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 (PID 46727) \320\276\321"..., 83Писатель (PID 46727) отправил: Сообщение 3 от PID 46727
) = 83
[pid 46728] write(1, "\n", 1
)           = 1
[pid 46728] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 (PID 46728) \320\277\320"..., 98Читатель (PID 46728) получил: Сообщение 3 от PID 46727 (от PID 46727)
) = 98
[pid 46727] write(1, "\n", 1
)           = 1
[pid 46727] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 (PID 46727) \320\276\321"..., 83Писатель (PID 46727) отправил: Сообщение 4 от PID 46727
) = 83
[pid 46728] write(1, "\n", 1
)           = 1
[pid 46728] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 (PID 46728) \320\277\320"..., 98Читатель (PID 46728) получил: Сообщение 4 от PID 46727 (от PID 46727)
) = 98
[pid 46727] write(1, "\n", 1
)           = 1
[pid 46727] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 (PID 46727) \320\276\321"..., 83Писатель (PID 46727) отправил: Сообщение 5 от PID 46727
) = 83
[pid 46728] write(1, "\n", 1
)           = 1
[pid 46728] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 (PID 46728) \320\277\320"..., 98Читатель (PID 46728) получил: Сообщение 5 от PID 46727 (от PID 46727)
) = 98
[pid 46728] shmdt(0x7ff02e1ae000)       = 0
[pid 46728] +++ exited with 0 +++
[pid 46727] --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=46728, si_uid=0, si_status=0, si_utime=0, si_stime=0} ---
[pid 46727] shmdt(0x7ff02e1ae000)       = 0
[pid 46727] shmdt(0x7ff02e1ae000)       = -1 EINVAL (Invalid argument)
[pid 46727] semctl(32771, 0, IPC_RMID, NULL) = 0
[pid 46727] +++ exited with 0 +++
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=46727, si_uid=0, si_status=0, si_utime=0, si_stime=0} ---
+++ exited with 0 +++
[2025-04-04 01:44:42] Время выполнения задания 5.2: 0 секунд.


[2025-04-04 01:44:42] [КОММЕНТАРИЙ] PTHREAD Вариант
[2025-04-04 01:44:42] ВЫПОЛНЕНИЕ ЗАДАНИЯ 5.2
[2025-04-04 01:44:42] >>> root@ASPIRIN$ strace -f -e trace=read,write,futex ./lb3/5/5-pthread 5 <<<
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20t\2\0\0\0\0\0"..., 832) = 832
strace: Process 46741 attached
strace: Process 46742 attached
[pid 46740] futex(0x7f8077c78990, FUTEX_WAIT_BITSET|FUTEX_CLOCK_REALTIME, 46741, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46741] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 \320\276\321\202\320\277\321\200\320\260\320\262\320\270\320"..., 56 <unfinished ...>
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAIT_PRIVATE, 2, NULLПисатель отправил: Сообщение 1
 <unfinished ...>
[pid 46741] <... write resumed>)        = 56
[pid 46741] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46742] <... futex resumed>)        = 0
[pid 46741] <... futex resumed>)        = 1
[pid 46742] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 \320\277\320\276\320\273\321\203\321\207\320\270\320\273:"..., 54 <unfinished ...>
[pid 46741] futex(0x7ffdcd6296c0, FUTEX_WAIT_PRIVATE, 2, NULLЧитатель получил: Сообщение 1
 <unfinished ...>
[pid 46742] <... write resumed>)        = 54
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1) = 1
[pid 46742] futex(0x7ffdcd629710, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46741] <... futex resumed>)        = 0
[pid 46741] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 \320\276\321\202\320\277\321\200\320\260\320\262\320\270\320"..., 56Писатель отправил: Сообщение 2
) = 56
[pid 46741] futex(0x7ffdcd629710, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46742] <... futex resumed>)        = 0
[pid 46741] <... futex resumed>)        = 1
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
[pid 46741] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46742] <... futex resumed>)        = -1 EAGAIN (Resource temporarily unavailable)
[pid 46741] <... futex resumed>)        = 0
[pid 46742] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 \320\277\320\276\320\273\321\203\321\207\320\270\320\273:"..., 54 <unfinished ...>
[pid 46741] futex(0x7ffdcd6296c0, FUTEX_WAIT_PRIVATE, 2, NULLЧитатель получил: Сообщение 2
 <unfinished ...>
[pid 46742] <... write resumed>)        = 54
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1) = 1
[pid 46741] <... futex resumed>)        = 0
[pid 46742] futex(0x7ffdcd629714, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46741] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 \320\276\321\202\320\277\321\200\320\260\320\262\320\270\320"..., 56Писатель отправил: Сообщение 3
) = 56
[pid 46741] futex(0x7ffdcd629714, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46742] <... futex resumed>)        = 0
[pid 46741] <... futex resumed>)        = 1
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
[pid 46741] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46742] <... futex resumed>)        = -1 EAGAIN (Resource temporarily unavailable)
[pid 46742] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 \320\277\320\276\320\273\321\203\321\207\320\270\320\273:"..., 54 <unfinished ...>
[pid 46741] <... futex resumed>)        = 0
Читатель получил: Сообщение 3
[pid 46742] <... write resumed>)        = 54
[pid 46741] futex(0x7ffdcd6296c0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46741] <... futex resumed>)        = -1 EAGAIN (Resource temporarily unavailable)
[pid 46742] <... futex resumed>)        = 0
[pid 46741] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 \320\276\321\202\320\277\321\200\320\260\320\262\320\270\320"..., 56 <unfinished ...>
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAIT_PRIVATE, 2, NULLПисатель отправил: Сообщение 4
 <unfinished ...>
[pid 46741] <... write resumed>)        = 56
[pid 46741] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46742] <... futex resumed>)        = 0
[pid 46741] <... futex resumed>)        = 1
[pid 46742] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 \320\277\320\276\320\273\321\203\321\207\320\270\320\273:"..., 54 <unfinished ...>
[pid 46741] futex(0x7ffdcd629710, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANYЧитатель получил: Сообщение 4
 <unfinished ...>
[pid 46742] <... write resumed>)        = 54
[pid 46742] futex(0x7ffdcd629710, FUTEX_WAKE_PRIVATE, 1) = 1
[pid 46741] <... futex resumed>)        = 0
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46741] futex(0x7ffdcd6296c0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
[pid 46742] <... futex resumed>)        = 0
[pid 46742] futex(0x7ffdcd629714, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, FUTEX_BITSET_MATCH_ANY <unfinished ...>
[pid 46741] <... futex resumed>)        = -1 EAGAIN (Resource temporarily unavailable)
[pid 46741] write(1, "\320\237\320\270\321\201\320\260\321\202\320\265\320\273\321\214 \320\276\321\202\320\277\321\200\320\260\320\262\320\270\320"..., 56Писатель отправил: Сообщение 5
) = 56
[pid 46741] futex(0x7ffdcd629714, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46742] <... futex resumed>)        = 0
[pid 46741] <... futex resumed>)        = 1
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
[pid 46741] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46742] <... futex resumed>)        = -1 EAGAIN (Resource temporarily unavailable)
[pid 46741] <... futex resumed>)        = 0
[pid 46742] write(1, "\320\247\320\270\321\202\320\260\321\202\320\265\320\273\321\214 \320\277\320\276\320\273\321\203\321\207\320\270\320\273:"..., 54Читатель получил: Сообщение 5
) = 54
[pid 46742] futex(0x7ffdcd6296c0, FUTEX_WAKE_PRIVATE, 1) = 0
[pid 46742] futex(0x7f8077ea7a28, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
[pid 46741] read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\0\0\0\0\0\0\0\0"..., 832) = 832
[pid 46741] futex(0x7f8077ea7a28, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46742] <... futex resumed>)        = 0
[pid 46741] <... futex resumed>)        = 1
[pid 46742] futex(0x7f8077ea7a28, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
[pid 46741] futex(0x7f8076c761f0, FUTEX_WAKE_PRIVATE, 2147483647) = 0
[pid 46742] <... futex resumed>)        = 0
[pid 46742] +++ exited with 0 +++
[pid 46740] <... futex resumed>)        = 0
[pid 46741] +++ exited with 0 +++
+++ exited with 0 +++
[2025-04-04 01:44:42] Время выполнения задания 5.2: 0 секунд.


[2025-04-04 01:44:42] [КОММЕНТАРИЙ] Сравнение на многоядерном процессоре
[2025-04-04 01:44:42] ВЫПОЛНЕНИЕ ЗАДАНИЯ 5
[2025-04-04 01:44:42] >>> root@ASPIRIN$ ./lb3/5/5.sh <<<
Запуск бенчмарков (ITER=10000, RUNS=5)...
-----------------------------------------------
POSIX_IPC: avg real time = .329010328s, avg CPU load = 68.41%
SystemV_IPC: avg real time = .333756458s, avg CPU load = 68.09%
Pthread: avg real time = .311602573s, avg CPU load = 67.22%

  Реализация     Real Time (s)    CPU Load (%)
-------------- ----------------- ------------
   POSIX_IPC       0.329010328      68.41
 SystemV_IPC       0.333756458      68.09
     Pthread       0.311602573      67.22
[2025-04-04 01:44:47] Время выполнения задания 5: 5 секунд.


[2025-04-04 01:44:47] [КОММЕНТАРИЙ] Сравнение на одноядерном процессоре
[2025-04-04 01:44:47] ВЫПОЛНЕНИЕ ЗАДАНИЯ 5
[2025-04-04 01:44:47] >>> root@ASPIRIN$ taskset -c 0 ./lb3/5/5.sh <<<
Запуск бенчмарков (ITER=10000, RUNS=5)...
-----------------------------------------------
POSIX_IPC: avg real time = .086155731s, avg CPU load = 99.81%
SystemV_IPC: avg real time = .090413160s, avg CPU load = 99.79%
Pthread: avg real time = .101806859s, avg CPU load = 99.81%

  Реализация     Real Time (s)    CPU Load (%)
-------------- ----------------- ------------
   POSIX_IPC       0.086155731      99.81
 SystemV_IPC       0.090413160      99.79
     Pthread       0.101806859      99.81
[2025-04-04 01:44:49] Время выполнения задания 5: 2 секунд.


[2025-04-04 01:44:49] ВЫПОЛНЕНИЕ ЗАДАНИЯ 6.1.1 (Скрипт)
[2025-04-04 01:44:49] Запуск скрипта ./lb3/6/6.1/6.1.1.sh без аргументов.
[H[2J[3J
================================================
 ДЕМОНСТРАЦИЯ РАБОТЫ С PIPE (КАНАЛАМИ) В LINUX
================================================


================================================
 1. ДЕМОНСТРАЦИЯ АНОНИМНЫХ КАНАЛОВ (PIPE)
================================================

Пример 1.1: Простой pipe между командами
Команда: ls -l | grep '.txt'
-rw-r--r-- 1 root  root      32 Apr  4 01:40 filtered_numbers.txt
-rw-r--r-- 1 root  root    9797 Apr  2 18:14 strace_output.txt

Пример 1.2: Цепочка из нескольких команд с обработкой данных
Команда: seq 1 20 | grep '1' | sort -nr | tee filtered_numbers.txt
19
18
17
16
15
14
13
12
11
10
1
Результат сохранен в filtered_numbers.txt

Пример 1.3: Подсчет количества процессов пользователя
Команда: ps -u root -o pid= | wc -l
Количество процессов: 131

Пример 1.4: Использование pipe с awk для сложной обработки
Команда: df -h | awk '$6 == "/" {print "Свободно на корневом разделе: " $4}'
Свободно на корневом разделе: 29G


================================================
 2. СИСТЕМНЫЕ ОГРАНИЧЕНИЯ ДЛЯ PIPE
================================================

2.1 Максимальный размер буфера pipe (в байтах):
PIPE_MAX_SIZE: 1048576
Для изменения добавьте в /etc/sysctl.conf:
fs.pipe-max-size = <новое_значение>

2.2 Ограничения на количество pipe для пользователя:
PIPE_USER_HARD (максимальное количество страниц): 0
PIPE_USER_SOFT (мягкое ограничение страниц): 16384

2.3 Общие ограничения на открытые файлы (включая pipe):
ULIMIT -n (максимум открытых файлов): 1024
Для изменения создайте /etc/security/limits.d/custom.conf с содержимым:
root soft nofile 16384
root hard nofile 32768

2.4 Размер страницы памяти:
PAGESIZE: 4096 байт
Это влияет на эффективность работы с pipe


================================================
 3. КОНФИГУРАЦИОННЫЕ ФАЙЛЫ ДЛЯ НАСТРОЙКИ PIPE
================================================

3.1 Основные файлы с ограничениями:
/proc/sys/fs/pipe-max-size: 1048576
/proc/sys/fs/pipe-user-pages-soft: 16384
/proc/sys/fs/pipe-user-pages-hard: 0

3.2 Текущее использование pipe в системе:
Команда: lsof | grep -w 'pipe' | wc -l
Текущее количество открытых pipe: 3873

3.3 Пример настройки ограничений через sysctl:
Для увеличения размера pipe добавьте в /etc/sysctl.conf:
fs.pipe-max-size = 1048576
И выполните: sysctl -p


================================================
 4. ДОПОЛНИТЕЛЬНЫЕ ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ PIPE
================================================

Пример 4.1: Параллельная обработка с pipe
Команда: seq 1 10 | xargs -P 4 -I {} echo "Обработка {}"
Обработка 1
Обработка 2
Обработка 3
Обработка 4
Обработка 5
Обработка 6
Обработка 7
Обработка 8
Обработка 9
Обработка 10

[2025-04-04 01:44:50] Время выполнения задания 6.1.1: 1 секунд.


[2025-04-04 01:44:50] ВЫПОЛНЕНИЕ ЗАДАНИЯ 6.1.2 (Скрипт)
[2025-04-04 01:44:50] Запуск скрипта ./lb3/6/6.1/6.1.2.sh без аргументов.
ЗАПУСК simple_pipe:
Эта программа демонстрирует:
 - Создание pipe
 - Создание дочернего процесса fork()
 - Передачу одного сообщения от родителя к потомку
Ожидаемый вывод:
Родительский процесс отправляет сообщение
Дочерний процесс получает это сообщение
------------------ НАЧАЛО ВЫВОДА ------------------
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20t\2\0\0\0\0\0"..., 832) = 832
strace: Process 47379 attached
[pid 47379] read(3,  <unfinished ...>
[pid 47378] write(1, "\320\240\320\276\320\264\320\270\321\202\320\265\320\273\321\214\321\201\320\272\320\270\320\271 \320\277\321\200\320\276\321"..., 139Родительский процесс (PID=47378) отправляет: 'Привет из родительского процесса!'
) = 139
[pid 47378] write(4, "\320\237\321\200\320\270\320\262\320\265\321\202 \320\270\320\267 \321\200\320\276\320\264\320\270\321\202\320\265\320\273"..., 63) = 63
[pid 47379] <... read resumed>"\320\237\321\200\320\270\320\262\320\265\321\202 \320\270\320\267 \321\200\320\276\320\264\320\270\321\202\320\265\320\273"..., 256) = 63
[pid 47379] write(1, "\320\224\320\276\321\207\320\265\321\200\320\275\320\270\320\271 \320\277\321\200\320\276\321\206\320\265\321\201\321\201 "..., 125Дочерний процесс (PID=47379) получил: 'Привет из родительского процесса!'
) = 125
[pid 47379] +++ exited with 0 +++
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=47379, si_uid=0, si_status=0, si_utime=0, si_stime=0} ---
+++ exited with 0 +++
------------------ КОНЕЦ ВЫВОДА -------------------

ЗАПУСК dual_pipe:
Эта программа демонстрирует:
 - Создание двух pipe для двустороннего обмена
 - Родитель отправляет сообщение потомку
 - Потомок отвечает на сообщение
Ожидаемый вывод:
Родитель отправляет -> потомок получает
Потомок отправляет ответ -> родитель получает
------------------ НАЧАЛО ВЫВОДА ------------------
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20t\2\0\0\0\0\0"..., 832) = 832
strace: Process 47384 attached
[pid 47384] read(3,  <unfinished ...>
[pid 47383] write(1, "\320\240\320\276\320\264\320\270\321\202\320\265\320\273\321\214\321\201\320\272\320\270\320\271 \320\277\321\200\320\276\321"..., 144Родительский процесс (PID=47383) отправляет: 'Сообщение от родительского процесса'
) = 144
[pid 47383] write(4, "\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \320\276\321\202 \321\200\320\276\320\264\320\270"..., 68) = 68
[pid 47384] <... read resumed>"\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \320\276\321\202 \321\200\320\276\320\264\320\270"..., 256) = 68
[pid 47383] read(5,  <unfinished ...>
[pid 47384] write(1, "\320\224\320\276\321\207\320\265\321\200\320\275\320\270\320\271 \320\277\321\200\320\276\321\206\320\265\321\201\321\201 "..., 130Дочерний процесс (PID=47384) получил: 'Сообщение от родительского процесса'
) = 130
[pid 47384] write(1, "\320\224\320\276\321\207\320\265\321\200\320\275\320\270\320\271 \320\277\321\200\320\276\321\206\320\265\321\201\321\201 "..., 120Дочерний процесс (PID=47384) отправляет: 'Ответ от дочернего процесса'
) = 120
[pid 47384] write(6, "\320\236\321\202\320\262\320\265\321\202 \320\276\321\202 \320\264\320\276\321\207\320\265\321\200\320\275\320\265\320\263"..., 52) = 52
[pid 47383] <... read resumed>"\320\236\321\202\320\262\320\265\321\202 \320\276\321\202 \320\264\320\276\321\207\320\265\321\200\320\275\320\265\320\263"..., 256) = 52
[pid 47383] write(1, "\320\240\320\276\320\264\320\270\321\202\320\265\320\273\321\214\321\201\320\272\320\270\320\271 \320\277\321\200\320\276\321"..., 122Родительский процесс (PID=47383) получил: 'Ответ от дочернего процесса'
) = 122
[pid 47384] +++ exited with 0 +++
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=47384, si_uid=0, si_status=0, si_utime=0, si_stime=0} ---
+++ exited with 0 +++
------------------ КОНЕЦ ВЫВОДА -------------------

ЗАПУСК pipe_exec:
Эта программа демонстрирует:
 - Создание pipe
 - Перенаправление вывода с помощью dup2()
 - Запуск программы wc -l для подсчета строк
Ожидаемый вывод:
Программа должна вывести число 3 (три строки было записано в pipe)
------------------ НАЧАЛО ВЫВОДА ------------------
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20t\2\0\0\0\0\0"..., 832) = 832
strace: Process 47389 attached
[pid 47388] write(4, "\320\237\320\265\321\200\320\262\320\260\321\217 \321\201\321\202\321\200\320\276\320\272\320\260\n", 26) = 26
[pid 47388] write(4, "\320\222\321\202\320\276\321\200\320\260\321\217 \321\201\321\202\321\200\320\276\320\272\320\260\n", 26) = 26
[pid 47388] write(4, "\320\242\321\200\320\265\321\202\321\214\321\217 \321\201\321\202\321\200\320\276\320\272\320\260\n", 26) = 26
[pid 47389] read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20t\2\0\0\0\0\0"..., 832) = 832
[pid 47389] read(3, "# Locale name alias data base.\n#"..., 4096) = 2996
[pid 47389] read(3, "", 4096)           = 0
[pid 47389] read(0, "\320\237\320\265\321\200\320\262\320\260\321\217 \321\201\321\202\321\200\320\276\320\272\320\260\n\320\222\321\202\320\276"..., 16320) = 78
[pid 47389] read(0, "", 16320)          = 0
[pid 47389] write(1, "3\n", 23
)          = 2
[pid 47389] +++ exited with 0 +++
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=47389, si_uid=0, si_status=0, si_utime=0, si_stime=0} ---
+++ exited with 0 +++
------------------ КОНЕЦ ВЫВОДА -------------------

[2025-04-04 01:44:51] Время выполнения задания 6.1.2: 1 секунд.


[2025-04-04 01:44:51] ВЫПОЛНЕНИЕ ЗАДАНИЯ 6.2 (Скрипт)
[2025-04-04 01:44:51] Запуск скрипта ./lb3/6/6.2/6.2.sh без аргументов.

=== Создание FIFO ===
Создаем FIFO из командной строки: mkfifo cmd_pipe
mkfifo: cannot create fifo 'cmd_pipe': File exists
prw-r--r-- 1 root root 0 Apr  4 01:40 cmd_pipe

Создаем FIFO программно:
FIFO 'prog_pipe' уже существует
prw-r--r-- 1 root root 0 Apr  3 01:08 prog_pipe

=== Анализ FIFO ===

Анализ утилитами ОС:
file cmd_pipe: cmd_pipe: fifo (named pipe)
stat cmd_pipe: prw-r--r-- 3147673 0
ls -li cmd_pipe:
3147673 prw-r--r-- 1 root root 0 Apr  4 01:40 cmd_pipe

Программный анализ:
Информация о файле: cmd_pipe
Тип: FIFO (именованный канал)
Inode: 3147673
Права доступа: rw- r-- r-- (0644)
Размер: 0 байт
Владелец: UID=0, GID=0
Время последнего доступа: Fri Apr  4 01:40:45 2025
Время последней модификации: Fri Apr  4 01:40:45 2025
Время последнего изменения статуса: Fri Apr  4 01:40:45 2025

=== Демонстрация работы FIFO ===
Запускаем reader в фоне:
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20t\2\0\0\0\0\0"..., 832) = 832

Запускаем writer:
read(3, write(3, "\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"..., 51"\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"..., 255) = 51
) = 51
+++ exited with 0 +++
write(1, "\320\237\320\276\320\273\321\203\321\207\320\265\320\275\320\276: \320\242\320\265\321\201\321\202\320\276\320\262\320\276"..., 70Получено: Тестовое сообщение через FIFO
) = 70
+++ exited with 0 +++
[2025-04-04 01:44:52] Время выполнения задания 6.2: 1 секунд.


[2025-04-04 01:44:52] ВЫПОЛНЕНИЕ ЗАДАНИЯ 6.3 (Скрипт)
[2025-04-04 01:44:52] Запуск скрипта ./lb3/6/6.3/6.3.sh без аргументов.
=== Текущие ограничения IPC в системе ===
Все пути указаны в абсолютном формате (/proc/sys/kernel/...)
----------------------------------------
● Путь: /proc/sys/kernel/shmmax
  Значение: 18446744073692774399
  Описание: Максимальный размер сегмента shared memory (в байтах). Например, 18446744073692774399 = 16 эксабайт (практически не ограничено).
----------------------------------------
● Путь: /proc/sys/kernel/msgmax
  Значение: 8192
  Описание: Максимальный размер одного сообщения в очереди (в байтах). Например, 8192 = 8 КБ.
----------------------------------------
● Путь: /proc/sys/kernel/sem
  Значение: 32000	1024000000	500	32000
  Описание: Параметры семафоров в формате: [1]макс. семафоров в системе [2]макс. операций за вызов [3]макс. системных семафоров [4]макс. очередей семафоров.
----------------------------------------
● Путь: /proc/sys/kernel/msgmni
  Значение: 32000
  Описание: Максимальное количество очередей сообщений в системе. Например, 32000.
----------------------------------------
● Путь: /proc/sys/kernel/msgmnb
  Значение: 16384
  Описание: Максимальный размер одной очереди сообщений (в байтах). Например, 16384 = 16 КБ.
----------------------------------------
● Путь: /proc/sys/kernel/shmall
  Значение: 18446744073692774399
  Описание: Общий объем shared memory, который может быть выделен (в страницах памяти). Например, 4294967296 = 16 ТБ (при размере страницы 4 КБ).
----------------------------------------

***** Демонстрация работы очередей сообщений *****
msgget(0x42010001, IPC_CREAT|0666)      = 4

Создана очередь с ID: 4
msgctl(4, IPC_STAT, {msg_perm={uid=0, gid=0, mode=0666, key=1107361793, cuid=0, cgid=0}, msg_stime=0, msg_rtime=0, msg_ctime=1743720292, msg_qnum=0, msg_qbytes=16384, msg_lspid=0, msg_lrpid=0}) = 0

=== Информация об очереди ===
Права доступа: 666
Байт в очереди: 0
Количество сообщений: 0
Макс. размер очереди: 16384 байт
Последняя отправка: никогда
Последнее получение: никогда
Последнее изменение: 2025-04-04 01:44:52.000
PID последнего отправителя: 0
PID последнего получателя: 0
============================

*** Базовый эксперимент ***
msgsnd(4, {mtype=2, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:2] Тестовое сообщение 1 (время: 2025-04-04 01:44:52.051, отправитель: 47451)
msgsnd(4, {mtype=3, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:3] Тестовое сообщение 2 (время: 2025-04-04 01:44:52.052, отправитель: 47451)
msgsnd(4, {mtype=1, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:1] Тестовое сообщение 3 (время: 2025-04-04 01:44:52.052, отправитель: 47451)
msgsnd(4, {mtype=2, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:2] Тестовое сообщение 4 (время: 2025-04-04 01:44:52.053, отправитель: 47451)
msgsnd(4, {mtype=3, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:3] Тестовое сообщение 5 (время: 2025-04-04 01:44:52.053, отправитель: 47451)
msgsnd(4, {mtype=1, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:1] Тестовое сообщение 6 (время: 2025-04-04 01:44:52.053, отправитель: 47451)
msgsnd(4, {mtype=2, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:2] Тестовое сообщение 7 (время: 2025-04-04 01:44:52.053, отправитель: 47451)
msgsnd(4, {mtype=3, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:3] Тестовое сообщение 8 (время: 2025-04-04 01:44:52.054, отправитель: 47451)
msgctl(4, IPC_STAT, {msg_perm={uid=0, gid=0, mode=0666, key=1107361793, cuid=0, cgid=0}, msg_stime=1743720292, msg_rtime=0, msg_ctime=1743720292, msg_qnum=8, msg_qbytes=16384, msg_lspid=47451, msg_lrpid=0}) = 0

=== Информация об очереди ===
Права доступа: 666
Байт в очереди: 2240
Количество сообщений: 8
Макс. размер очереди: 16384 байт
Последняя отправка: 2025-04-04 01:44:52.000
Последнее получение: никогда
Последнее изменение: 2025-04-04 01:44:52.000
PID последнего отправителя: 47451
PID последнего получателя: 0
============================

Получаем сообщения типа 2:
msgrcv(4, {mtype=2, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, 2, IPC_NOWAIT) = 280
Получено: [тип:2] Тестовое сообщение 1 (отправлено: 2025-04-04 01:44:52.051, задержка: 4 мс, отправитель: 47451)
msgrcv(4, {mtype=2, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, 2, IPC_NOWAIT) = 280
Получено: [тип:2] Тестовое сообщение 4 (отправлено: 2025-04-04 01:44:52.053, задержка: 3 мс, отправитель: 47451)
msgrcv(4, {mtype=2, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, 2, IPC_NOWAIT) = 280
Получено: [тип:2] Тестовое сообщение 7 (отправлено: 2025-04-04 01:44:52.053, задержка: 2 мс, отправитель: 47451)

Попытка получить несуществующее сообщение типа 4:
msgrcv(4, 0x7ffd30efb780, 280, 4, IPC_NOWAIT) = -1 ENOMSG (No message of desired type)
Нет сообщений типа 4

*** Эксперимент с приоритетами ***
msgsnd(4, {mtype=10, mtext="\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \321\201 \320\262\321\213\321\201\320\276\320\272"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:10] Сообщение с высоким приоритетом (время: 2025-04-04 01:44:52.057, отправитель: 47451)
msgsnd(4, {mtype=5, mtext="\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \321\201\320\276 \321\201\321\200\320\265\320\264"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:5] Сообщение со средним приоритетом (время: 2025-04-04 01:44:52.058, отправитель: 47451)
msgsnd(4, {mtype=1, mtext="\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \321\201 \320\275\320\270\320\267\320\272\320\270"...}, 280, IPC_NOWAIT) = 0
Отправлено: [тип:1] Сообщение с низким приоритетом (время: 2025-04-04 01:44:52.058, отправитель: 47451)

Получаем сообщение с наивысшим приоритетом:
msgrcv(4, {mtype=3, mtext="\320\242\320\265\321\201\321\202\320\276\320\262\320\276\320\265 \321\201\320\276\320\276\320\261\321\211\320\265\320\275\320"...}, 280, 0, 0) = 280
Получено: [тип:3] Тестовое сообщение 2 (отправлено: 2025-04-04 01:44:52.052, задержка: 7 мс, отправитель: 47451)

*** Эксперимент с fork() ***
strace: Process 47452 attached
Родительский процесс ожидает сообщение...
[pid 47451] msgrcv(4,  <unfinished ...>
[pid 47452] msgsnd(4, {mtype=4, mtext="\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \320\276\321\202 \320\264\320\276\321\207\320\265"...}, 280, IPC_NOWAIT) = 0
[pid 47451] <... msgrcv resumed>{mtype=4, mtext="\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \320\276\321\202 \320\264\320\276\321\207\320\265"...}, 280, 4, 0) = 280
Получено: [тип:4] Сообщение от дочернего процесса (отправлено: 2025-04-04 01:44:53.061, задержка: 0 мс, отправитель: 47452)
Отправлено: [тип:4] Сообщение от дочернего процесса (время: 2025-04-04 01:44:53.061, отправитель: 47452)
[pid 47452] +++ exited with 0 +++
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=47452, si_uid=0, si_status=0, si_utime=0, si_stime=0} ---

*** Тест производительности ***
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
msgsnd(4, {mtype=1, mtext=""}, 0, IPC_NOWAIT) = 0
Отправлено 100 сообщений за 9960 мкс (99.600 мкс/сообщение)
msgrcv(4, NULL, 0, 0, IPC_NOWAIT)       = -1 E2BIG (Argument list too long)

*** Очистка очереди ***
msgrcv(4, NULL, 0, 0, IPC_NOWAIT)       = -1 E2BIG (Argument list too long)
Удалено 0 сообщений
msgctl(4, IPC_RMID, NULL)               = 0

Очередь 4 успешно удалена
+++ exited with 0 +++
[2025-04-04 01:44:53] Время выполнения задания 6.3: 1 секунд.


[2025-04-04 01:44:53] ВЫПОЛНЕНИЕ ЗАДАНИЯ 7 (Скрипт)
[2025-04-04 01:44:53] Запуск скрипта ./lb3/7/7.sh без аргументов.

=== Ограничения системы для сокетов ===

1. Лимиты файловых дескрипторов:
• Глобальный максимум (/proc/sys/fs/file-max): 9223372036854775807
• Макс. на процесс (/proc/sys/fs/nr_open): 1048576
• Текущий лимит (ulimit -n): 1024

2. Диапазоны портов:
• Динамические порты (/proc/sys/net/ipv4/ip_local_port_range): 32768	60999
• Время TIME_WAIT (/proc/sys/net/ipv4/tcp_fin_timeout): 60 сек

3. Размеры буферов:
• Макс. буфер чтения (/proc/sys/net/core/rmem_max): 212992 байт
• Макс. буфер записи (/proc/sys/net/core/wmem_max): 212992 байт
• TCP rmem (min,default,max): 4096	131072	6291456
• TCP wmem (min,default,max): 4096	16384	4194304

4. Очереди соединений:
• Макс. очередь подключений (/proc/sys/net/core/somaxconn): 4096
• SYN backlog (/proc/sys/net/ipv4/tcp_max_syn_backlog): 1024

5. Состояние firewall:
• iptables правила:
Chain INPUT (policy ACCEPT)
Chain FORWARD (policy DROP)
Chain OUTPUT (policy ACCEPT)
ACCEPT     6    --  0.0.0.0/0            172.21.0.3           tcp dpt:8000
DROP       0    --  0.0.0.0/0            0.0.0.0/0           

• nftables правила:
# Warning: table ip nat is managed by iptables-nft, do not touch!
table ip nat {
	chain DOCKER {
		iifname "docker0" counter packets 0 bytes 0 return
		iifname "br-b56d365599b8" counter packets 0 bytes 0 return
		iifname "br-5f8e322b553c" counter packets 0 bytes 0 return

6. Мандатный контроль доступа:
• AppArmor статус:
apparmor module is loaded.
25 profiles are loaded.
23 profiles are in enforce mode.

7. Cgroup ограничения:
• memory.limit_in_bytes: N/A
• cpu.cfs_quota_us: N/A

=== Проверка открытых сокетов ===
• Всего TCP: 1
• Всего UDP: 1
• Всего UNIX: 736

=== Проверка текущего процесса ===
• PID текущего shell: 47460
• Лимиты процесса:
Max processes             63744                63744                processes 
Max open files            1024                 1048576              files     
Подробный список сокетов
Netid                    State                     Recv-Q                    Send-Q                                         Local Address:Port                                          Peer Address:Port                    Process                                                      
udp                      UNCONN                    0                         0                                                    0.0.0.0:57336                                              0.0.0.0:*                        users:(("avahi-daemon",pid=559,fd=14))                      
udp                      UNCONN                    0                         0                                                    0.0.0.0:5353                                               0.0.0.0:*                        users:(("avahi-daemon",pid=559,fd=12))                      
udp                      UNCONN                    0                         0                                                       [::]:36296                                                 [::]:*                        users:(("avahi-daemon",pid=559,fd=15))                      
udp                      UNCONN                    0                         0                                                       [::]:5353                                                  [::]:*                        users:(("avahi-daemon",pid=559,fd=13))                      
tcp                      LISTEN                    0                         128                                                127.0.0.1:631                                                0.0.0.0:*                        users:(("cupsd",pid=786,fd=7))                              
tcp                      LISTEN                    0                         4096                                                 0.0.0.0:8000                                               0.0.0.0:*                        users:(("docker-proxy",pid=1747,fd=7))                      
tcp                      LISTEN                    0                         64                                                 127.0.0.1:5345                                               0.0.0.0:*                        users:(("lttng-sessiond",pid=565,fd=62))                    
tcp                      LISTEN                    0                         128                                                    [::1]:631                                                   [::]:*                        users:(("cupsd",pid=786,fd=6))                              
tcp                      LISTEN                    0                         4096                                                    [::]:8000                                                  [::]:*                        users:(("docker-proxy",pid=1753,fd=7))                      
[2025-04-04 01:44:53] Время выполнения задания 7: 0 секунд.


[2025-04-04 01:44:53] ВЫПОЛНЕНИЕ ЗАДАНИЯ 7.1 (Скрипт)
[2025-04-04 01:44:53] Запуск скрипта ./lb3/7/7.1/7.1.sh без аргументов.
UDP сервер запущен (PID: 47502)
socket(AF_INET, SOCK_DGRAM, IPPROTO_IP) = 3
bind(3, {sa_family=AF_INET, sin_port=htons(12345), sin_addr=inet_addr("0.0.0.0")}, 16) = 0
UDP сервер слушает на порту 12345...
recvfrom(3, 
Запуск UDP клиента...
socket(AF_INET, SOCK_DGRAM, IPPROTO_IP) = 3
setsockopt(3, SOL_SOCKET, SO_RCVTIMEO_OLD, "\5\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16) = 0
sendto(3, "\320\237\321\200\320\270\320\262\320\265\321\202, \321\201\320\265\321\200\320\262\320\265\321\200! (UDP"..., 33, MSG_CONFIRM, {sa_family=AF_INET, sin_port=htons(12345), sin_addr=inet_addr("0.0.0.0")}, 16) = 33
"\320\237\321\200\320\270\320\262\320\265\321\202, \321\201\320\265\321\200\320\262\320\265\321\200! (UDP"..., 1024, MSG_WAITALL, {sa_family=AF_INET, sin_port=htons(42638), sin_addr=inet_addr("127.0.0.1")}, [16]) = 33
Получено от 127.0.0.1:42638: Привет, сервер! (UDP)
sendto(3, "\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \320\277\320\276\320\273\321\203\321\207\320\265\320"..., 58, MSG_CONFIRM, {sa_family=AF_INET, sin_port=htons(42638), sin_addr=inet_addr("127.0.0.1")}, 16) = 58
recvfrom(3, Сообщение отправлено серверуrecvfrom(3, "\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \320\277\320\276\320\273\321\203\321\207\320\265\320"..., 1023, 0, {sa_family=AF_INET, sin_port=htons(12345), sin_addr=inet_addr("127.0.0.1")}, [16]) = 58
Ответ сервера: Сообщение получено сервером (UDP)
+++ exited with 0 +++
strace: Process 47506 detached
 <detached ...>
[2025-04-04 01:44:55] Время выполнения задания 7.1: 2 секунд.


[2025-04-04 01:44:55] ВЫПОЛНЕНИЕ ЗАДАНИЯ 7.2 (Скрипт)
[2025-04-04 01:44:55] Запуск скрипта ./lb3/7/7.2/7.2.sh без аргументов.
UDP сервер запущен (PID: 47519)
socket(AF_INET, SOCK_DGRAM, IPPROTO_IP) = 3
bind(3, {sa_family=AF_INET, sin_port=htons(12345), sin_addr=inet_addr("0.0.0.0")}, 16) = 0
UDP сервер слушает на порту 12345...
recvfrom(3, 
Запуск UDP клиента...
socket(AF_INET, SOCK_DGRAM, IPPROTO_IP) = 3
setsockopt(3, SOL_SOCKET, SO_RCVTIMEO_OLD, "\5\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16) = 0
sendto(3, "\320\237\321\200\320\270\320\262\320\265\321\202, \321\201\320\265\321\200\320\262\320\265\321\200! (UDP"..., 33, MSG_CONFIRM, {sa_family=AF_INET, sin_port=htons(12345), sin_addr=inet_addr("0.0.0.0")}, 16) = 33
"\320\237\321\200\320\270\320\262\320\265\321\202, \321\201\320\265\321\200\320\262\320\265\321\200! (UDP"..., 1024, MSG_WAITALL, {sa_family=AF_INET, sin_port=htons(35524), sin_addr=inet_addr("127.0.0.1")}, [16]) = 33
Получено от 127.0.0.1:35524: Привет, сервер! (UDP)
sendto(3, "\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \320\277\320\276\320\273\321\203\321\207\320\265\320"..., 58, MSG_CONFIRM, {sa_family=AF_INET, sin_port=htons(35524), sin_addr=inet_addr("127.0.0.1")}, 16) = 58
recvfrom(3, Сообщение отправлено серверуrecvfrom(3, "\320\241\320\276\320\276\320\261\321\211\320\265\320\275\320\270\320\265 \320\277\320\276\320\273\321\203\321\207\320\265\320"..., 1023, 0, {sa_family=AF_INET, sin_port=htons(12345), sin_addr=inet_addr("127.0.0.1")}, [16]) = 58
Ответ сервера: Сообщение получено сервером (UDP)
+++ exited with 0 +++
strace: Process 47523 detached
 <detached ...>
[2025-04-04 01:44:57] Время выполнения задания 7.2: 2 секунд.


[2025-04-04 01:44:57] ВЫПОЛНЕНИЕ ЗАДАНИЯ 7.3 (Скрипт)
[2025-04-04 01:44:57] Запуск скрипта ./lb3/7/7.3/7.3.sh без аргументов.
Очистка старых логов и процессов...

=== Тестирование 10 tcp клиентов ===
Общее время выполнения: 0.17 секунд

[Анализ для 10 tcp клиентов]

Топ-10 системных вызовов сервера:
     41 rt_sigprocmask
     17 mmap
     13 close
     12 write
     12 mprotect
     11 set_robust_list
     11 rseq
     11 accept
     10 sendto
     10 recvfrom

Ошибок в логах клиентов не обнаружено
Очистка старых логов и процессов...

=== Тестирование 10 udp клиентов ===
Общее время выполнения: 0.16 секунд

[Анализ для 10 udp клиентов]

Топ-10 системных вызовов сервера:
     12 write
     11 recvfrom
     10 sendto
      8 mmap
      3 newfstatat
      3 mprotect
      3 close
      3 brk
      2 rt_sigaction
      2 pread64

Ошибок в логах клиентов не обнаружено
Очистка старых логов и процессов...

=== Тестирование 100 tcp клиентов ===
Общее время выполнения: 1.58 секунд

[Анализ для 100 tcp клиентов]

Топ-10 системных вызовов сервера:
    401 rt_sigprocmask
    103 close
    102 write
    101 set_robust_list
    101 rseq
    101 accept
    100 sendto
    100 recvfrom
    100 madvise
    100 clone3

Ошибок в логах клиентов не обнаружено
Очистка старых логов и процессов...

=== Тестирование 100 udp клиентов ===
Общее время выполнения: 1.58 секунд

[Анализ для 100 udp клиентов]

Топ-10 системных вызовов сервера:
    102 write
    102 recvfrom
    100 sendto
      8 mmap
      3 newfstatat
      3 mprotect
      3 close
      3 brk
      2 rt_sigaction
      2 pread64

Ошибок в логах клиентов не обнаружено
Очистка старых логов и процессов...

=== Тестирование 1000 tcp клиентов ===
Общее время выполнения: 16.03 секунд

[Анализ для 1000 tcp клиентов]

Топ-10 системных вызовов сервера:
   4001 rt_sigprocmask
   1003 close
   1002 write
   1001 set_robust_list
   1001 rseq
   1001 accept
   1000 sendto
   1000 recvfrom
   1000 clone3
    999 madvise

Ошибок в логах клиентов не обнаружено
Очистка старых логов и процессов...

=== Тестирование 1000 udp клиентов ===
Общее время выполнения: 15.66 секунд

[Анализ для 1000 udp клиентов]

Топ-10 системных вызовов сервера:
   1002 write
   1002 recvfrom
   1000 sendto
      8 mmap
      3 newfstatat
      3 mprotect
      3 close
      3 brk
      2 rt_sigaction
      2 pread64

Ошибок в логах клиентов не обнаружено
Очистка старых логов и процессов...
[2025-04-04 01:45:52] Время выполнения задания 7.3: 55 секунд.


[2025-04-04 01:45:52] [КОММЕНТАРИЙ] Конец скрипта. Очистка файлов.
[2025-04-04 01:45:52] ВЫПОЛНЕНИЕ ЗАДАНИЯ 0
[2025-04-04 01:45:52] >>> root@ASPIRIN$ ./cleaner.sh lb3 <<<
Удаление lb3/6/6.1/dual_pipe
Удаление lb3/6/6.1/pipe_exec
Удаление lb3/6/6.1/simple_pipe
Удаление lb3/6/6.2/writer
Удаление lb3/6/6.2/reader
Удаление lb3/6/6.2/create_fifo
Удаление lb3/6/6.2/analyze_fifo
Удаление lb3/6/6.3/message_queue
Удаление lb3/1
Удаление lb3/7/7.2/client
Удаление lb3/7/7.2/server
Удаление lb3/7/7.1/client
Удаление lb3/7/7.1/server
Удаление lb3/7/7.3/client
Удаление lb3/7/7.3/server
Удаление lb3/4
Удаление lb3/5/5-posix
Удаление lb3/5/5-systemv
Удаление lb3/5/5-benchmark
Удаление lb3/5/5-pthread
Удаление lb3/2
Удаление lb3/3/3.1
Удаление lb3/3/3.2
Все скомпилированные файлы удалены.
[2025-04-04 01:45:52] Время выполнения задания 0: 0 секунд.


[2025-04-04 01:45:52] Общее время выполнения скрипта: 83 секунд.
=================================================================
                      ОТЧЁТ ЗАВЕРШЁН
=================================================================
[2025-04-04 01:45:52] Основной отчёт сохранён в файл: lab_report_2025-04-04_01-44-29.log

Script done on 2025-04-04 01:45:52+03:00 [COMMAND_EXIT_CODE="0"]
